<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>编程规范 | 🍭​你要信我啊の博客​</title><meta name="author" content="ryf"><meta name="copyright" content="ryf"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="参考链接C语言 | 嵌入式C语言编程规范_函数名开头加uc-CSDN博客  [!tip]  以下文件排版将会按照自顶向下的方式进行编排，&#x3D;&#x3D;文件夹 &gt; 文件名 &gt; 排版 &gt; 函数 &gt; 变量&#x3D;&#x3D;  文件架构缩写该项目文件树参考AUTOSAR结构，为了便于理解，此处展示部分缩写的全称：    缩写 全称 描述    AUTOSAR AUT">
<meta property="og:type" content="article">
<meta property="og:title" content="编程规范">
<meta property="og:url" content="https://youshouldtrustme.github.io/2025/09/13/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/%E7%BC%96%E7%A8%8B%E8%A7%84%E8%8C%83/index.html">
<meta property="og:site_name" content="🍭​你要信我啊の博客​">
<meta property="og:description" content="参考链接C语言 | 嵌入式C语言编程规范_函数名开头加uc-CSDN博客  [!tip]  以下文件排版将会按照自顶向下的方式进行编排，&#x3D;&#x3D;文件夹 &gt; 文件名 &gt; 排版 &gt; 函数 &gt; 变量&#x3D;&#x3D;  文件架构缩写该项目文件树参考AUTOSAR结构，为了便于理解，此处展示部分缩写的全称：    缩写 全称 描述    AUTOSAR AUT">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://youshouldtrustme.github.io/img/RandomCoverImage/random_4.jpg">
<meta property="article:published_time" content="2025-09-13T07:29:37.954Z">
<meta property="article:modified_time" content="2025-09-13T07:29:37.955Z">
<meta property="article:author" content="ryf">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://youshouldtrustme.github.io/img/RandomCoverImage/random_4.jpg"><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "编程规范",
  "url": "https://youshouldtrustme.github.io/2025/09/13/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/%E7%BC%96%E7%A8%8B%E8%A7%84%E8%8C%83/",
  "image": "https://youshouldtrustme.github.io/img/RandomCoverImage/random_4.jpg",
  "datePublished": "2025-09-13T07:29:37.954Z",
  "dateModified": "2025-09-13T07:29:37.955Z",
  "author": [
    {
      "@type": "Person",
      "name": "ryf",
      "url": "https://youshouldtrustme.github.io"
    }
  ]
}</script><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://youshouldtrustme.github.io/2025/09/13/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/%E7%BC%96%E7%A8%8B%E8%A7%84%E8%8C%83/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!false && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode

      const theme = saveToLocal.get('theme')
    
          theme === 'dark' ? activateDarkMode() : theme === 'light' ? activateLightMode() : null
        
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":true,"top_n_per_article":1,"unescape":false,"languages":{"hits_empty":"未找到符合您查询的内容：${query}","hits_stats":"共找到 ${hits} 篇文章"}},
  translate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false,"highlightFullpage":false,"highlightMacStyle":false},
  copy: {
    success: '复制成功',
    error: '复制失败',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'null',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyloadPlugin: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '编程规范',
  isHighlightShrink: false,
  isToc: true,
  pageType: 'post'
}</script><link rel="stylesheet" href="/css/custom.css" media="defer" onload="this.media='all'"><!-- hexo injector head_end start --><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Zfour/Butterfly-double-row-display@1.00/cardlistpost.min.css"/>
<style>#recent-posts > .recent-post-item >.recent-post-info > .article-meta-wrap > .tags:before {content:"\A";
  white-space: pre;}#recent-posts > .recent-post-item >.recent-post-info > .article-meta-wrap > .tags > .article-meta__separator{display:none}</style>
<link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiperstyle.css" media="print" onload="this.media='all'"><!-- hexo injector head_end end --><meta name="generator" content="Hexo 7.3.0"></head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">加载中...</div></div></div><script>(()=>{
  const $loadingBox = document.getElementById('loading-box')
  const $body = document.body
  const preloader = {
    endLoading: () => {
      if ($loadingBox.classList.contains('loaded')) return
      $body.style.overflow = ''
      $loadingBox.classList.add('loaded')
    },
    initLoading: () => {
      $body.style.overflow = 'hidden'
      $loadingBox.classList.remove('loaded')
    }
  }

  preloader.initLoading()

  if (document.readyState === 'complete') {
    preloader.endLoading()
  } else {
    window.addEventListener('load', preloader.endLoading)
    document.addEventListener('DOMContentLoaded', preloader.endLoading)
    // Add timeout protection: force end after 7 seconds
    setTimeout(preloader.endLoading, 7000)
  }

  if (false) {
    btf.addGlobalFn('pjaxSend', preloader.initLoading, 'preloader_init')
    btf.addGlobalFn('pjaxComplete', preloader.endLoading, 'preloader_end')
  }
})()</script><div id="web_bg" style="background-image: url(/img/index.jpg);"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src="/img/avatar.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data text-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">74</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">10</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">4</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-a-jiafangzijianzhu"></use></svg><span class="menu_word" style="font-size:17px"> 首页</span></a></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/archives/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-a-folderyellow"></use></svg><span class="menu_word" style="font-size:17px"> 归档</span></a></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/categories/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-fenlei-"></use></svg><span class="menu_word" style="font-size:17px"> 分类</span></a></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/tags/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-a-07biaoqian"></use></svg><span class="menu_word" style="font-size:17px"> 标签</span></a></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/about/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-guanyuwomen"></use></svg><span class="menu_word" style="font-size:17px"> 关于</span></a></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/friends/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-lianjie"></use></svg><span class="menu_word" style="font-size:17px"> 友链</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url(/img/RandomCoverImage/random_4.jpg);"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><span class="site-name">🍭​你要信我啊の博客​</span></a><a class="nav-page-title" href="/"><span class="site-name">编程规范</span><span class="site-name"><i class="fa-solid fa-circle-arrow-left"></i><span>  返回首页</span></span></a></span><div id="menus"><div id="search-button"><span class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></span></div><div class="menus_items"><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-a-jiafangzijianzhu"></use></svg><span class="menu_word" style="font-size:17px"> 首页</span></a></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/archives/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-a-folderyellow"></use></svg><span class="menu_word" style="font-size:17px"> 归档</span></a></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/categories/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-fenlei-"></use></svg><span class="menu_word" style="font-size:17px"> 分类</span></a></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/tags/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-a-07biaoqian"></use></svg><span class="menu_word" style="font-size:17px"> 标签</span></a></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/about/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-guanyuwomen"></use></svg><span class="menu_word" style="font-size:17px"> 关于</span></a></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/friends/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-lianjie"></use></svg><span class="menu_word" style="font-size:17px"> 友链</span></a></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav><div id="post-info"><h1 class="post-title">编程规范</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2025-09-13T07:29:37.954Z" title="发表于 2025-09-13 07:29:37">2025-09-13</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2025-09-13T07:29:37.955Z" title="更新于 2025-09-13 07:29:37">2025-09-13</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/">基础知识</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">总字数:</span><span class="word-count">9.3k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>35分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title=""><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">浏览量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="container post-content" id="article-container"><h1 id="参考链接"><a href="#参考链接" class="headerlink" title="参考链接"></a>参考链接</h1><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/zhengnianli/article/details/100061633">C语言 | 嵌入式C语言编程规范_函数名开头加uc-CSDN博客</a></p>
<blockquote>
<p>[!tip] </p>
<p>以下文件排版将会按照自顶向下的方式进行编排，<em>&#x3D;&#x3D;文件夹 &gt; 文件名 &gt; 排版 &gt; 函数 &gt; 变量&#x3D;&#x3D;</em></p>
</blockquote>
<h1 id="文件架构"><a href="#文件架构" class="headerlink" title="文件架构"></a>文件架构</h1><h2 id="缩写"><a href="#缩写" class="headerlink" title="缩写"></a>缩写</h2><p>该项目文件树参考AUTOSAR结构，为了便于理解，此处展示部分缩写的全称：</p>
<table>
<thead>
<tr>
<th>缩写</th>
<th>全称</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>AUTOSAR</td>
<td>AUTomotive Open System ARchitecture</td>
<td>汽车开放系统架构，是汽车软件开发的标准框架。</td>
</tr>
<tr>
<td>ASW</td>
<td>Application Software</td>
<td>应用软件，主要负责实现特定功能的业务逻辑。</td>
</tr>
<tr>
<td>BSW</td>
<td>Basic Software</td>
<td>基础软件，负责底层硬件控制和通用服务的实现。</td>
</tr>
<tr>
<td>BSP</td>
<td>Board Support Package</td>
<td>板级支持包，包含硬件初始化、驱动和相关工具。</td>
</tr>
<tr>
<td>HAL</td>
<td>Hardware Abstraction Layer</td>
<td>硬件抽象层，提供对硬件的抽象访问接口。</td>
</tr>
<tr>
<td>MCAL</td>
<td>Microcontroller Abstraction Layer</td>
<td>微控制器抽象层，提供对芯片外设的直接访问接口。</td>
</tr>
<tr>
<td>RTE</td>
<td>Run-Time Environment</td>
<td>运行时环境，负责 ASW 与 BSW 的通信管理。</td>
</tr>
<tr>
<td>UDS</td>
<td>Unified Diagnostic Services</td>
<td>统一诊断服务协议（ISO 14229），用于 ECU 的诊断通信。</td>
</tr>
<tr>
<td>Dcm</td>
<td>Diagnostic Communication Manager</td>
<td>诊断通信管理模块，实现 UDS 服务的解析和处理。</td>
</tr>
<tr>
<td>Dem</td>
<td>Diagnostic Event Manager</td>
<td>诊断事件管理模块，负责故障码存储和管理。</td>
</tr>
<tr>
<td>PduR</td>
<td>Protocol Data Unit Router</td>
<td>协议数据单元路由模块，负责数据路由。</td>
</tr>
<tr>
<td>CanTp</td>
<td>CAN Transport Protocol</td>
<td>CAN 传输协议模块，用于实现 UDS 消息的传输。</td>
</tr>
<tr>
<td>NvM</td>
<td>Non-Volatile Memory Manager</td>
<td>非易失性内存管理模块，负责数据的持久化存储。</td>
</tr>
<tr>
<td>SoAd</td>
<td>Socket Adapter</td>
<td>套接字适配器，用于实现基于 TCP&#x2F;IP 的通信协议（如 DoIP）。</td>
</tr>
<tr>
<td>ECU</td>
<td>Electronic Control Unit</td>
<td>电子控制单元，是汽车的嵌入式控制器。</td>
</tr>
<tr>
<td>GPIO</td>
<td>General Purpose Input&#x2F;Output</td>
<td>通用输入输出，硬件外设的一种。</td>
</tr>
<tr>
<td>UART</td>
<td>Universal Asynchronous Receiver-Transmitter</td>
<td>通用异步收发器，用于串行通信。</td>
</tr>
<tr>
<td>SPI</td>
<td>Serial Peripheral Interface</td>
<td>串行外设接口，用于高性能串行通信。</td>
</tr>
<tr>
<td>I2C</td>
<td>Inter-Integrated Circuit</td>
<td>一种常用的两线串行通信协议。</td>
</tr>
<tr>
<td>CAN</td>
<td>Controller Area Network</td>
<td>控制器局域网，是汽车通信总线的一种。</td>
</tr>
<tr>
<td>FlexRay</td>
<td>Flexible Ray</td>
<td>一种高速汽车通信协议，用于安全关键应用。</td>
</tr>
<tr>
<td>LIN</td>
<td>Local Interconnect Network</td>
<td>局域互连网络，低成本汽车通信协议。</td>
</tr>
<tr>
<td>DoIP</td>
<td>Diagnostics over Internet Protocol</td>
<td>基于 IP 协议的诊断通信。</td>
</tr>
<tr>
<td>OS</td>
<td>Operating System</td>
<td>操作系统，提供任务调度和资源管理功能。</td>
</tr>
<tr>
<td>SWC</td>
<td>Software Component</td>
<td>软件组件，用于实现应用逻辑，是 ASW 层的核心构成模块。</td>
</tr>
</tbody></table>
<h2 id="概览"><a href="#概览" class="headerlink" title="概览"></a>概览</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">├─.vscode</span><br><span class="line">├─ASW				此处存放与硬件平台无关代码</span><br><span class="line">├─BSW				存放与硬件相关代码，所以子文件夹需要区分不同芯片型号</span><br><span class="line">├─BOOT				存放BOOT相关代码</span><br><span class="line">├─Documents			存放项目相关的文档，为了方便使用，最好将使用的芯片的手册放于此处</span><br><span class="line">├─OS				存放和系统相关的，如文件系统、操作系统、调度系统等等</span><br><span class="line">├─Output			存放输出文件，请在设置Keil和IAR等软件时，选用输出到此文件夹，方便管理，并且增强Project中的整洁性</span><br><span class="line">└─Project			存放和工程相关的文件树，如KEIL、IAR、SOURCEINSIGHT、TSMATSER、CANoe、JFLASH，与项目相关的工程请放置此处</span><br></pre></td></tr></table></figure>

<blockquote>
<p>[!important]   </p>
<p>不知道要将代码放在哪个文件夹中需要参考以下准则：</p>
<ol>
<li>与硬件无关的请存放于ASW，也就是逻辑相关</li>
<li>与硬件有关的请存放于BSW，也就是对接硬件平台</li>
<li>OS中存放系统相关，如文件系统、操作系统、调度系统</li>
<li>BOOT中存放和BOOT相关的文件，采用的协议文件，如UDS、OSI</li>
</ol>
</blockquote>
<blockquote>
<p>[!note]   </p>
<p>为了保持风格的一致性，高两级的文件夹请使用开头大写（ASW、OS、User、Components等），再低级的文件夹就使用小写（inc、src、cfg等）</p>
</blockquote>
<h2 id="ASW"><a href="#ASW" class="headerlink" title="ASW"></a>ASW</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">├─.vscode</span><br><span class="line">├─ASW				此处存放与硬件平台无关代码</span><br><span class="line">│  ├─SWC			此处存放APP相关组件代码，如门窗控制器组件等等</span><br><span class="line">│  │  └─btdm		此级文件夹下的文件树可以按照自己的喜好存放，如可以将c和h文件放在一起，也可按照不同的文件后缀对文件树进行构建</span><br><span class="line">│  │      ├─inc		存放头文件</span><br><span class="line">│  │      ├─lib		存放lib库文件</span><br><span class="line">│  │      └─src		存放c文件</span><br><span class="line">│  │      └─cfg		存放cfg文件</span><br><span class="line">│  ├─User			一般用于存放main函数和相关app操作函数，一般来说main函数尽量不要有太多的内容，使用函数调用，方便在此基础上修改</span><br><span class="line">│  └─Utils			存放工具文件，如delay、RTT、coreMark等工具。</span><br><span class="line">│  └─Include		存放APP端的相关宏配置文件。</span><br></pre></td></tr></table></figure>

<blockquote>
<p>[!note]   </p>
<p>注意，ASW中存放和硬件无关的代码，所以在写其中的代码，我们应该要尽量减少和硬件有关的代码，使用抽象代码，如使用定死的函数名访问，我们并不需要知道它下面是怎么实现的，我们只需要调用。（使用定死的函数名方便进行抽象）</p>
</blockquote>
<blockquote>
<p>[!important]   </p>
<p>‼‼‼在ASW中写代码，一定要有抽象的概念‼‼‼</p>
<p>例如SWC是组件的意思，也就意味着，当你写好一个组件，那么我下次使用别的平台的时候可以直接调用你的组件，而不需要再修改很多东西，如定义一个宏开关来控制。</p>
<p>对于一个组件来说，我只需要知道你的组件的输入和输出即可，所以其中的代码尽量写的抽象，减少重复造轮子。</p>
</blockquote>
<h2 id="BSW"><a href="#BSW" class="headerlink" title="BSW"></a>BSW</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">├─BSW				存放与硬件相关代码，所以需要区分不同芯片型号</span><br><span class="line">│  ├─Bsp			存放供应商和用户的接口函数</span><br><span class="line">│  │  └─FR3032D		注意，这里需要定义到芯片的具体型号</span><br><span class="line">│  │      ├─inc</span><br><span class="line">│  │      └─src</span><br><span class="line">│  ├─Cmsis			这里存放和芯片内核文件，如core_cm3.h、cmsis_compile.h等等类似文件</span><br><span class="line">│  │  └─FR3032D</span><br><span class="line">│  ├─Diagnostics	这里存放诊断相关文件，如UDS</span><br><span class="line">│  ├─Scripts		存放脚本相关文件，如sct、icf、bat、py，和工程相关的脚本文件请都放至此处。在Keil中如果使用可视化宏文件请放置此处</span><br><span class="line">│  │  └─UDS</span><br><span class="line">│  └─Include		存放BSW端的相关宏配置文件及基础类型，如Std_Types.h。</span><br><span class="line">│  ├─Drivers		这里存放驱动文件</span><br><span class="line">│  │  └─FR3032D</span><br><span class="line">│  └─StartUp		这里存放启动文件，如startUp.s等文件</span><br><span class="line">│      └─FR3032D</span><br></pre></td></tr></table></figure>

<blockquote>
<p>[!tip]   </p>
<p>需要考虑的是，是否要增加芯片厂商的文件夹，如ZX&#x2F;FR3032D，如果要制定芯片厂商，请和plm等保持一致的缩写，如ZX代表智芯</p>
</blockquote>
<h2 id="BOOT"><a href="#BOOT" class="headerlink" title="BOOT"></a>BOOT</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">├─BOOT</span><br><span class="line">│  └───BootLoader	存放Boot相关的代码，如控制启动流程等</span><br><span class="line">│    	├─inc</span><br><span class="line">│    	└─src		</span><br></pre></td></tr></table></figure>

<h2 id="Documents"><a href="#Documents" class="headerlink" title="Documents"></a>Documents</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">├─Documents		存放和项目相关的手册、点检表、变更履历表，如果要存放过多的文件，请使用文件夹分类，便于查阅</span><br><span class="line">│  └─FR3032D	</span><br></pre></td></tr></table></figure>

<h2 id="OS"><a href="#OS" class="headerlink" title="OS"></a>OS</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">├─OS		</span><br><span class="line">│  ├─FlashDB		文件系统</span><br><span class="line">│  │  ├─inc</span><br><span class="line">│  │  └─src</span><br><span class="line">│  ├─CropFreeRTOS	裁剪的操作系统</span><br><span class="line">│  └─FreeRTOS		操作系统</span><br><span class="line">│      ├─inc</span><br><span class="line">│      └─src</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">├─Output</span><br><span class="line">│  ├─Listings	存放链接文件和映射文件，注意该文件夹是软件生成的，在Keil或IAR中设置即可</span><br><span class="line">│  ├─Objects	存放中间文件，如o文件、obj文件，该文件夹也是软件自动生成的，需要配置</span><br></pre></td></tr></table></figure>

<blockquote>
<p>[!note]   </p>
<p>请务必在工程中设置output和listing以保证项目树的整洁性</p>
</blockquote>
<h2 id="Project"><a href="#Project" class="headerlink" title="Project"></a>Project</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">└─Project</span><br><span class="line">    ├─KEIL</span><br><span class="line">    │  └─RTE</span><br><span class="line">    │      └─_blueTooth</span><br><span class="line">    ├─SOURCEINSIGHT</span><br><span class="line">    │  └─blueTooth.si4project</span><br><span class="line">    │      ├─Backup</span><br><span class="line">    │      └─cache</span><br><span class="line">    │          └─parse</span><br><span class="line">    └─VSCODE</span><br></pre></td></tr></table></figure>

<blockquote>
<p>[!important]   </p>
<p>和项目相关的工程请存放至此，我们常用的工程有：</p>
<ol>
<li>Keil</li>
<li>IAR</li>
<li>SourceInsight</li>
<li>Vscode</li>
<li>TSMaster</li>
<li>Canoe</li>
<li>ZLG</li>
<li>JFLash</li>
<li>QAC</li>
<li>Tessy</li>
</ol>
</blockquote>
<blockquote>
<p>[!note]   </p>
<p>QAC和Tessy的测试输出报告请不要放置Document中，需要存放在Project下的相关文件夹中</p>
</blockquote>
<h2 id="1-10-ReadMe"><a href="#1-10-ReadMe" class="headerlink" title="1.10 ReadMe"></a>1.10 ReadMe</h2><p>ReadMe文件中用来存放和项目相关教程，如Flash、Ram分布，如何使用函数，当使用的时候需要修改哪些等等。</p>
<blockquote>
<p>[!note] </p>
<p>最好是看完ReadMe就能知道项目怎么配置‼‼‼</p>
</blockquote>
<h1 id="文件"><a href="#文件" class="headerlink" title="文件"></a>文件</h1><p>文件的命名要准确清晰地表达其内容，同时文件名应该精练，防止文件名过长而造成使用不便。在文件名中可以适当地使用缩写。 以下提供两种命名方式以供参考：</p>
<ol>
<li><p>各程序模块的文件命名开头 2 个消协字母代表本模块的功能：如：主控程序为 mpMain.c，mpDisp.c 等。</p>
</li>
<li><p>不写模块功能标识：如：主控程序为 Main.c，Disp.c 等。</p>
</li>
</ol>
<h2 id="文件名命名规则"><a href="#文件名命名规则" class="headerlink" title="文件名命名规则"></a>文件名命名规则</h2><ol>
<li><strong>模块前缀</strong>：<ul>
<li>文件名通常以模块或组件的缩写作为前缀，例如：<ul>
<li><code>Com_</code>：通信栈模块。</li>
<li><code>Dcm_</code>：诊断通信管理模块。</li>
<li><code>EcuM_</code>：ECU状态管理模块。</li>
<li><code>Os_</code>：操作系统模块。</li>
<li><code>BswM_</code>：基础软件管理模块。</li>
</ul>
</li>
</ul>
</li>
<li><strong>文件类型</strong>：<ul>
<li>文件名中通常包含文件类型的标识，例如：<ul>
<li><code>_Cfg</code>：配置文件。</li>
<li><code>_Types</code>：类型定义文件。</li>
<li><code>_Api</code>：API接口文件。</li>
<li><code>_Impl</code>：实现文件。</li>
<li><code>_PbCfg</code>：Post-build 配置文件。</li>
</ul>
</li>
</ul>
</li>
<li><strong>文件内容描述</strong>：<ul>
<li>文件名中应包含文件内容的简要描述，例如：<ul>
<li><code>ComStack_Types.h</code>：通信栈的类型定义文件。</li>
<li><code>Dcm_Cfg.c</code>：诊断通信管理的配置文件。</li>
</ul>
</li>
</ul>
</li>
<li><strong>文件扩展名</strong>：<ul>
<li>头文件：<code>.h</code></li>
<li>源文件：<code>.c</code></li>
<li>配置文件：<code>.c</code> 或 <code>.h</code></li>
<li>描述文件：<code>.arxml</code>（AUTOSAR XML 文件）</li>
</ul>
</li>
<li><strong>大小写</strong>：<ul>
<li>文件名通常采用<strong>驼峰命名法</strong>（CamelCase），首字母大写。</li>
</ul>
</li>
</ol>
<h2 id="命名标准"><a href="#命名标准" class="headerlink" title="命名标准"></a>命名标准</h2><blockquote>
<p>[!important] </p>
<p>请严格遵守以下命名准则书写文件名‼‼‼‼‼</p>
</blockquote>
<h3 id="通信栈模块（Com）"><a href="#通信栈模块（Com）" class="headerlink" title="通信栈模块（Com）"></a>通信栈模块（Com）</h3><ul>
<li><p>类型定义文件：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ComStack_Types.h</span><br></pre></td></tr></table></figure>
</li>
<li><p>配置文件：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Com_Cfg.c</span><br></pre></td></tr></table></figure>
</li>
<li><p>API接口文件：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Com_Api.h</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="诊断通信管理模块（Dcm）"><a href="#诊断通信管理模块（Dcm）" class="headerlink" title="诊断通信管理模块（Dcm）"></a>诊断通信管理模块（Dcm）</h3><ul>
<li><p>类型定义文件：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Dcm_Types.h</span><br></pre></td></tr></table></figure>
</li>
<li><p>配置文件：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Dcm_Cfg.c</span><br></pre></td></tr></table></figure>
</li>
<li><p>实现文件：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Dcm_Impl.c</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="基础板级支持包（BSP）"><a href="#基础板级支持包（BSP）" class="headerlink" title="基础板级支持包（BSP）"></a>基础板级支持包（BSP）</h3><p>命名规则为:<em>&#x3D;&#x3D;Bsp_芯片型号 _模块名称&#x3D;&#x3D;</em></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Bsp_ZX116_ADC.h</span><br><span class="line">Bsp_ZX116_ADC.c</span><br><span class="line">Bsp_FR8016H_GPIO.h</span><br><span class="line">Bsp_FR8016H_GPIO.c</span><br></pre></td></tr></table></figure>



<h3 id="ECU状态管理模块（EcuM）"><a href="#ECU状态管理模块（EcuM）" class="headerlink" title="ECU状态管理模块（EcuM）"></a>ECU状态管理模块（EcuM）</h3><ul>
<li><p>类型定义文件：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">EcuM_Types.h</span><br></pre></td></tr></table></figure>
</li>
<li><p>配置文件：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">EcuM_Cfg.c</span><br></pre></td></tr></table></figure>
</li>
<li><p>API接口文件：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">EcuM_Api.h</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="操作系统模块（Os）"><a href="#操作系统模块（Os）" class="headerlink" title="操作系统模块（Os）"></a>操作系统模块（Os）</h3><ul>
<li><p>类型定义文件：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Os_Types.h</span><br></pre></td></tr></table></figure>
</li>
<li><p>配置文件：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Os_Cfg.c</span><br></pre></td></tr></table></figure>
</li>
<li><p>API接口文件：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Os_Api.h</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="基础软件管理模块（BswM）"><a href="#基础软件管理模块（BswM）" class="headerlink" title="基础软件管理模块（BswM）"></a>基础软件管理模块（BswM）</h3><ul>
<li><p>类型定义文件：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">BswM_Types.h</span><br></pre></td></tr></table></figure>
</li>
<li><p>配置文件：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">BswM_Cfg.c</span><br></pre></td></tr></table></figure>
</li>
<li><p>API接口文件：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">BswM_Api.h</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="非易失性存储管理模块（Nvm）"><a href="#非易失性存储管理模块（Nvm）" class="headerlink" title="非易失性存储管理模块（Nvm）"></a>非易失性存储管理模块（Nvm）</h3><ul>
<li><p>类型定义文件：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Nvm_Types.h</span><br></pre></td></tr></table></figure>
</li>
<li><p>配置文件：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Nvm_Cfg.c</span><br></pre></td></tr></table></figure>
</li>
<li><p>API接口文件：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Nvm_Api.h</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="AUTOSAR-XML-文件"><a href="#AUTOSAR-XML-文件" class="headerlink" title="AUTOSAR XML 文件"></a>AUTOSAR XML 文件</h3><ul>
<li><p>系统描述文件：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SystemDescription.arxml</span><br></pre></td></tr></table></figure>
</li>
<li><p>ECU配置描述文件：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">EcuConfiguration.arxml</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="AUTOSAR文件名命名总结"><a href="#AUTOSAR文件名命名总结" class="headerlink" title="AUTOSAR文件名命名总结"></a>AUTOSAR文件名命名总结</h3><ol>
<li><p><strong>模块前缀</strong>：文件名以模块或组件的缩写作为前缀。</p>
</li>
<li><p><strong>文件类型</strong>：文件名中包含文件类型的标识（如 <code>_Cfg</code>、<code>_Types</code>）。</p>
</li>
<li><p><strong>文件内容描述</strong>：文件名应简要描述文件内容。</p>
</li>
<li><p><strong>文件扩展名</strong>：根据文件类型使用合适的扩展名（如 <code>.h</code>、<code>.c</code>、<code>.arxml</code>）。</p>
</li>
<li><p><strong>大小写</strong>：采用驼峰命名法，首字母大写。</p>
</li>
<li><p><strong>文件命名规范</strong><br>AUTOSAR对文件的命名有严格的规范，以确保文件的可读性和一致性。常见的命名规则包括：<br>模块名前缀：文件名通常以模块名作为前缀。例如：（如：Dio_Cfg.h：DIO模块的配置文件、Can_PBcfg.c：CAN模块的Post-Build配置文件）</p>
<p>文件类型后缀：文件名中包含文件类型的标识。例如：（<code>_Cfg</code>：表示配置文件、<code>_PBcfg</code>：表示Post-Build配置文、<code>_LCfg</code>：表示Link-Time配置文件。）<br>版本信息：文件名中可以包含版本号或日期信息，以便于版本管理。</p>
</li>
</ol>
<h2 id="头文件"><a href="#头文件" class="headerlink" title="头文件"></a>头文件</h2><p>在写头文件时，可以按照以下的段落排版顺序写：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1、文件头注释</span></span><br><span class="line"><span class="comment">// 2、防止重复引用头文件的设置</span></span><br><span class="line"><span class="comment">// 3、#include 部分</span></span><br><span class="line"><span class="comment">// 4、enum 常量声明</span></span><br><span class="line"><span class="comment">// 5、类型声明和定义，包括 struct、union、typedef 等</span></span><br><span class="line"><span class="comment">// 6、全局变量声明</span></span><br><span class="line"><span class="comment">// 7、文件级变量声明</span></span><br><span class="line"><span class="comment">// 8、全局或文件级函数声明</span></span><br><span class="line"><span class="comment">// 9、函数实现。按函数声明的顺序排列</span></span><br><span class="line"><span class="comment">// 10、文件尾注释</span></span><br></pre></td></tr></table></figure>

<p>如果使用绝对路径，当需要移动目录时，必须修改所有相关代码，繁琐且不安全；使用相对路径，当需要移动目录时，只需修改<a target="_blank" rel="noopener" href="https://marketing.csdn.net/p/3127db09a98e0723b83b2914d9256174?pId=2782&utm_source=glcblog&spm=1001.2101.3001.7020">编译器</a>的某个选项即可。例如：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> “/project/inc/hello.h” <span class="comment">/* 不应使用绝对路径 */</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> “../inc/hello.h”       <span class="comment">/* 可以使用相对路径 */</span>=</span></span><br></pre></td></tr></table></figure>

<p>在引用头文件时，注意<code>&lt;&gt;</code> <code>“”</code>的区别：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span>      <span class="comment">/* 标准头文件 */</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;projdefs.h&gt;</span>   <span class="comment">/* 工程指定目录头文件 */</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> “global.h”     <span class="comment">/* 当前目录头文件 */</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> “inc/config.h” <span class="comment">/* 路径相对于当前目录的头文件 */</span></span></span><br></pre></td></tr></table></figure>

<p>在写头文件时要加上条件编译指令以防止头文件被重复引用：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">ifndef</span> __DISP_H <span class="comment">/* 文件名前名加两个下划线“__”，后面加 “_H”</span></span></span><br><span class="line"><span class="comment"><span class="meta">#define __DISP_H</span></span></span><br><span class="line"><span class="comment"><span class="meta">...</span></span></span><br><span class="line"><span class="comment"><span class="meta">...</span></span></span><br><span class="line"><span class="comment"><span class="meta">#endif</span></span></span><br></pre></td></tr></table></figure>

<p>在头文件中只存放申明而不存放定义</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*模块1头文件：nodule1.h*/</span></span><br><span class="line"><span class="keyword">extern</span> <span class="type">int</span> a <span class="number">5</span>;	<span class="comment">/*在模块1的.h文件中声明变量*/</span></span><br></pre></td></tr></table></figure>

<p>并且文件的长度没有非常严格的要求，但应避免文件过长，一般来说，文件长度应尽量保持在1000行之内。</p>
<blockquote>
<p>[!important] </p>
<p>尽量使用模板自动配置，具体配置见<code>4.5</code>，使用软件自动配置管理不仅可以节约时间，也可保持一致性。</p>
</blockquote>
<h1 id="排版"><a href="#排版" class="headerlink" title="排版"></a>排版</h1><h2 id="缩进与对齐"><a href="#缩进与对齐" class="headerlink" title="缩进与对齐"></a>缩进与对齐</h2><h3 id="缩进"><a href="#缩进" class="headerlink" title="缩进"></a>缩进</h3><ul>
<li>使用 <strong>4 个空格</strong> 进行缩进，禁止使用 Tab（如果要使用Tab键，请确保一个Tab等于4个空格）。</li>
<li>缩进应清晰反映代码的层次结构。</li>
</ul>
<p><strong>示例</strong>：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">Function</span><span class="params">(<span class="type">void</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (condition)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">// Code block</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="对齐"><a href="#对齐" class="headerlink" title="对齐"></a>对齐</h3><ul>
<li>括号 <code>&#123;&#125;</code> 应独占一行，并与上一行的代码对齐。</li>
<li>代码块内的语句应对齐。</li>
</ul>
<p><strong>示例</strong>：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (condition)</span><br><span class="line">&#123;</span><br><span class="line">    DoSomething();</span><br><span class="line">    DoAnotherThing();</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line">    DoElseThing();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="行长度与换行"><a href="#行长度与换行" class="headerlink" title="行长度与换行"></a>行长度与换行</h2><h3 id="行长度"><a href="#行长度" class="headerlink" title="行长度"></a>行长度</h3><ul>
<li>每行代码不应超过 <strong>120 个字符</strong>。</li>
<li>如果一行代码过长，应将其拆分为多行。</li>
</ul>
<p><strong>示例</strong>：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">uint8 result = FunctionWithManyParameters(parameter1, parameter2,</span><br><span class="line">                                          parameter3, parameter4);</span><br></pre></td></tr></table></figure>

<h3 id="换行规则"><a href="#换行规则" class="headerlink" title="换行规则"></a>换行规则</h3><ul>
<li>在运算符后换行，保持运算符在行尾。</li>
<li>换行后应对齐到上一行的起始位置或适当缩进。</li>
</ul>
<p><strong>示例</strong>：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">uint8 result = value1 + value2 + value3 +</span><br><span class="line">               value4 + value5;</span><br></pre></td></tr></table></figure>


<h2 id="空格与空行"><a href="#空格与空行" class="headerlink" title="空格与空行"></a>空格与空行</h2><h3 id="空格"><a href="#空格" class="headerlink" title="空格"></a>空格</h3><ul>
<li>在运算符两侧添加空格。</li>
<li>在逗号后添加空格。</li>
<li>在关键字后添加空格。</li>
</ul>
<p><strong>示例</strong>：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">uint8 result = (value1 + value2) * value3;</span><br><span class="line"><span class="keyword">for</span> (uint8 i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// Code block</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="空行"><a href="#空行" class="headerlink" title="空行"></a>空行</h3><ul>
<li>在函数之间添加空行，以分隔不同的代码块。</li>
<li>在逻辑相关的代码块之间添加空行，以提高可读性。</li>
</ul>
<p><strong>示例</strong>：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">Function1</span><span class="params">(<span class="type">void</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// Code block</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">Function2</span><span class="params">(<span class="type">void</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// Code block</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="括号与分号"><a href="#括号与分号" class="headerlink" title="括号与分号"></a>括号与分号</h2><h3 id="括号"><a href="#括号" class="headerlink" title="括号"></a>括号</h3><ul>
<li>括号 <code>&#123;&#125;</code> 应独占一行，并与上一行的代码对齐。</li>
<li>即使代码块只有一行，也应使用括号。</li>
</ul>
<p><strong>示例</strong>：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (condition)</span><br><span class="line">&#123;</span><br><span class="line">    DoSomething();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="分号"><a href="#分号" class="headerlink" title="分号"></a>分号</h3><ul>
<li>每个语句应以分号 <code>;</code> 结尾。</li>
<li>分号前不应有空格。</li>
</ul>
<p><strong>示例</strong>：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">uint8 value = <span class="number">10</span>;</span><br><span class="line">DoSomething();</span><br></pre></td></tr></table></figure>

<h2 id="注释格式"><a href="#注释格式" class="headerlink" title="注释格式"></a>注释格式</h2><h3 id="单行注释"><a href="#单行注释" class="headerlink" title="单行注释"></a>单行注释</h3><ul>
<li>使用 <code>//</code> 进行单行注释。</li>
<li>注释应与代码对齐。</li>
</ul>
<p><strong>示例</strong>：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">uint8 value = <span class="number">10</span>;  <span class="comment">// Initialize value</span></span><br></pre></td></tr></table></figure>

<h3 id="多行注释"><a href="#多行注释" class="headerlink" title="多行注释"></a>多行注释</h3><ul>
<li>使用 <code>/* ... */</code> 进行多行注释。</li>
<li>注释内容应清晰、简洁。</li>
</ul>
<p><strong>示例</strong>：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * This is a multi-line comment.</span></span><br><span class="line"><span class="comment"> * It provides additional information about the code.</span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure>

<h2 id="函数排版"><a href="#函数排版" class="headerlink" title="函数排版"></a>函数排版</h2><h3 id="函数声明"><a href="#函数声明" class="headerlink" title="函数声明"></a>函数声明</h3><ul>
<li>函数声明应包含返回值类型、函数名和参数列表。</li>
<li>参数列表应换行对齐。</li>
</ul>
<p><strong>示例</strong>：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Std_ReturnType <span class="title function_">FunctionName</span><span class="params">(uint8 parameter1,</span></span><br><span class="line"><span class="params">                            uint8 parameter2,</span></span><br><span class="line"><span class="params">                            uint8 parameter3)</span>;</span><br></pre></td></tr></table></figure>

<h3 id="函数定义"><a href="#函数定义" class="headerlink" title="函数定义"></a>函数定义</h3><ul>
<li>函数定义应包含详细的注释，描述其功能、参数和返回值。</li>
<li>函数体应缩进 4 个空格。</li>
</ul>
<p><strong>示例</strong>：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/******************************************************************************</span></span><br><span class="line"><span class="comment"> * Function: FunctionName</span></span><br><span class="line"><span class="comment"> * Description: This function does something.</span></span><br><span class="line"><span class="comment"> * Parameters:</span></span><br><span class="line"><span class="comment"> *   - parameter1: Description of parameter1.</span></span><br><span class="line"><span class="comment"> *   - parameter2: Description of parameter2.</span></span><br><span class="line"><span class="comment"> * Return: E_OK if successful, E_NOT_OK otherwise.</span></span><br><span class="line"><span class="comment"> ******************************************************************************/</span></span><br><span class="line">Std_ReturnType <span class="title function_">FunctionName</span><span class="params">(uint8 parameter1, uint8 parameter2)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// Function body</span></span><br><span class="line">    <span class="keyword">if</span> (condition)</span><br><span class="line">    &#123;</span><br><span class="line">        DoSomething();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> E_OK;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="结构体与枚举排版"><a href="#结构体与枚举排版" class="headerlink" title="结构体与枚举排版"></a>结构体与枚举排版</h2><h3 id="结构体"><a href="#结构体" class="headerlink" title="结构体"></a>结构体</h3><ul>
<li>结构体定义应包含详细的注释，说明其用途和成员的含义。</li>
<li>结构体成员应对齐。</li>
</ul>
<p><strong>示例</strong>：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/******************************************************************************</span></span><br><span class="line"><span class="comment"> * Structure: CanMessage_t</span></span><br><span class="line"><span class="comment"> * Description: Represents a CAN message.</span></span><br><span class="line"><span class="comment"> * Members:</span></span><br><span class="line"><span class="comment"> *   - id: The CAN message ID.</span></span><br><span class="line"><span class="comment"> *   - data: The CAN message data.</span></span><br><span class="line"><span class="comment"> *   - length: The length of the CAN message data.</span></span><br><span class="line"><span class="comment"> ******************************************************************************/</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    uint8 id;</span><br><span class="line">    uint8 data[<span class="number">8</span>];</span><br><span class="line">    uint8 length;</span><br><span class="line">&#125; CanMessage_t;</span><br></pre></td></tr></table></figure>

<h3 id="枚举"><a href="#枚举" class="headerlink" title="枚举"></a>枚举</h3><ul>
<li>枚举定义应包含详细的注释，说明其用途和枚举值的含义。</li>
<li>枚举值应对齐。</li>
</ul>
<p><strong>示例</strong>：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/******************************************************************************</span></span><br><span class="line"><span class="comment"> * Enum: CanState_t</span></span><br><span class="line"><span class="comment"> * Description: Represents the state of the CAN controller.</span></span><br><span class="line"><span class="comment"> * Values:</span></span><br><span class="line"><span class="comment"> *   - CAN_STATE_UNINIT: CAN controller is uninitialized.</span></span><br><span class="line"><span class="comment"> *   - CAN_STATE_READY: CAN controller is ready.</span></span><br><span class="line"><span class="comment"> *   - CAN_STATE_ERROR: CAN controller is in error state.</span></span><br><span class="line"><span class="comment"> ******************************************************************************/</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">enum</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    CAN_STATE_UNINIT = <span class="number">0</span>,</span><br><span class="line">    CAN_STATE_READY  = <span class="number">1</span>,</span><br><span class="line">    CAN_STATE_ERROR  = <span class="number">2</span></span><br><span class="line">&#125; CanState_t;</span><br></pre></td></tr></table></figure>



<h1 id="注释"><a href="#注释" class="headerlink" title="注释"></a>注释</h1><h2 id="文件注释规范"><a href="#文件注释规范" class="headerlink" title="文件注释规范"></a>文件注释规范</h2><h3 id="文件头注释"><a href="#文件头注释" class="headerlink" title="文件头注释"></a>文件头注释</h3><p>每个文件（包括 <code>.c</code> 和 <code>.h</code> 文件）应包含文件头注释，通常包括以下内容：</p>
<ol>
<li><strong>文件名</strong>：文件的名称。</li>
<li><strong>描述</strong>：文件的简要功能描述。</li>
<li><strong>作者</strong>：文件的作者或开发者。</li>
<li><strong>版本</strong>：文件的版本号。</li>
<li><strong>日期</strong>：文件的创建或修改日期。</li>
<li><strong>版权声明</strong>：文件的版权信息。</li>
</ol>
<h3 id="注释格式-1"><a href="#注释格式-1" class="headerlink" title="注释格式"></a>注释格式</h3><ul>
<li>使用 <code>/* ... */</code> 进行多行注释。</li>
<li>注释内容应清晰、简洁，避免冗余信息。</li>
</ul>
<h2 id="文件头注释示例"><a href="#文件头注释示例" class="headerlink" title="文件头注释示例"></a>文件头注释示例</h2><h3 id="c-文件注释"><a href="#c-文件注释" class="headerlink" title=".c 文件注释"></a><code>.c</code> 文件注释</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/******************************************************************************</span></span><br><span class="line"><span class="comment"> * File: Can_Driver.c</span></span><br><span class="line"><span class="comment"> * Description: CAN driver implementation for AUTOSAR.</span></span><br><span class="line"><span class="comment"> * Author: John Doe</span></span><br><span class="line"><span class="comment"> * Version: 1.0</span></span><br><span class="line"><span class="comment"> * Date: 2023-10-01</span></span><br><span class="line"><span class="comment"> * Copyright: (c) 2023 by Company Name. All rights reserved.</span></span><br><span class="line"><span class="comment"> ******************************************************************************/</span></span><br></pre></td></tr></table></figure>

<h3 id="h-文件注释"><a href="#h-文件注释" class="headerlink" title=".h 文件注释"></a><code>.h</code> 文件注释</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/******************************************************************************</span></span><br><span class="line"><span class="comment"> * File: Can_Driver.h</span></span><br><span class="line"><span class="comment"> * Description: CAN driver interface for AUTOSAR.</span></span><br><span class="line"><span class="comment"> * Author: John Doe</span></span><br><span class="line"><span class="comment"> * Version: 1.0</span></span><br><span class="line"><span class="comment"> * Date: 2023-10-01</span></span><br><span class="line"><span class="comment"> * Copyright: (c) 2023 by Company Name. All rights reserved.</span></span><br><span class="line"><span class="comment"> ******************************************************************************/</span></span><br></pre></td></tr></table></figure>

<hr>
<h2 id="文件内容注释"><a href="#文件内容注释" class="headerlink" title="文件内容注释"></a>文件内容注释</h2><h3 id="模块注释"><a href="#模块注释" class="headerlink" title="模块注释"></a>模块注释</h3><p>在文件的开头，添加模块的详细描述，说明模块的功能、依赖关系和设计思路。</p>
<p><strong>示例</strong>：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/******************************************************************************</span></span><br><span class="line"><span class="comment"> * Module: CAN Driver</span></span><br><span class="line"><span class="comment"> * Description: This module implements the CAN driver for AUTOSAR. It provides</span></span><br><span class="line"><span class="comment"> *              functions for initializing the CAN controller, sending and</span></span><br><span class="line"><span class="comment"> *              receiving CAN messages.</span></span><br><span class="line"><span class="comment"> * Dependencies:</span></span><br><span class="line"><span class="comment"> *   - Std_Types.h: Standard type definitions.</span></span><br><span class="line"><span class="comment"> *   - Can_GeneralTypes.h: CAN module type definitions.</span></span><br><span class="line"><span class="comment"> * Design Notes:</span></span><br><span class="line"><span class="comment"> *   - The driver supports CAN 2.0A and 2.0B frames.</span></span><br><span class="line"><span class="comment"> *   - Error handling is implemented for invalid inputs and hardware errors.</span></span><br><span class="line"><span class="comment"> ******************************************************************************/</span></span><br></pre></td></tr></table></figure>

<h3 id="函数注释"><a href="#函数注释" class="headerlink" title="函数注释"></a>函数注释</h3><p>每个函数应包含详细的注释，描述其功能、参数和返回值。</p>
<p><strong>示例</strong>：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/******************************************************************************</span></span><br><span class="line"><span class="comment"> * Function: Can_Init</span></span><br><span class="line"><span class="comment"> * Description: Initializes the CAN controller and configures the baud rate.</span></span><br><span class="line"><span class="comment"> * Parameters:</span></span><br><span class="line"><span class="comment"> *   - None</span></span><br><span class="line"><span class="comment"> * Return:</span></span><br><span class="line"><span class="comment"> *   - E_OK: Initialization successful.</span></span><br><span class="line"><span class="comment"> *   - E_NOT_OK: Initialization failed.</span></span><br><span class="line"><span class="comment"> ******************************************************************************/</span></span><br><span class="line">Std_ReturnType <span class="title function_">Can_Init</span><span class="params">(<span class="type">void</span>)</span>;</span><br></pre></td></tr></table></figure>

<h3 id="结构体和枚举注释"><a href="#结构体和枚举注释" class="headerlink" title="结构体和枚举注释"></a>结构体和枚举注释</h3><p>为结构体和枚举类型添加注释，说明其用途和成员的含义。</p>
<p><strong>示例</strong>：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/******************************************************************************</span></span><br><span class="line"><span class="comment"> * Structure: CanMessage_t</span></span><br><span class="line"><span class="comment"> * Description: Represents a CAN message with ID, data, and length.</span></span><br><span class="line"><span class="comment"> * Members:</span></span><br><span class="line"><span class="comment"> *   - id: The CAN message ID.</span></span><br><span class="line"><span class="comment"> *   - data: The CAN message data (up to 8 bytes).</span></span><br><span class="line"><span class="comment"> *   - length: The length of the CAN message data.</span></span><br><span class="line"><span class="comment"> ******************************************************************************/</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    uint8 id;</span><br><span class="line">    uint8 data[<span class="number">8</span>];</span><br><span class="line">    uint8 length;</span><br><span class="line">&#125; CanMessage_t;</span><br></pre></td></tr></table></figure>

<hr>
<h2 id="其他注释"><a href="#其他注释" class="headerlink" title="其他注释"></a>其他注释</h2><h3 id="代码块注释"><a href="#代码块注释" class="headerlink" title="代码块注释"></a>代码块注释</h3><p>在复杂的代码块前添加注释，解释其逻辑和实现思路。</p>
<p><strong>示例</strong>：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Check if the CAN message is valid</span></span><br><span class="line"><span class="keyword">if</span> ((message.id &gt; <span class="number">0</span>) &amp;&amp; (message.length &lt;= <span class="number">8</span>))</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// Process the CAN message</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="修改记录"><a href="#修改记录" class="headerlink" title="修改记录"></a>修改记录</h3><p>在文件的末尾或注释中添加修改记录，记录每次修改的内容、作者和日期。</p>
<p><strong>示例</strong>：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/******************************************************************************</span></span><br><span class="line"><span class="comment"> * Modification History:</span></span><br><span class="line"><span class="comment"> * - 2023-10-01: Version 1.0 by John Doe (Initial implementation).</span></span><br><span class="line"><span class="comment"> * - 2023-10-05: Version 1.1 by Jane Smith (Added error handling).</span></span><br><span class="line"><span class="comment"> ******************************************************************************/</span></span><br></pre></td></tr></table></figure>

<h2 id="软件配置"><a href="#软件配置" class="headerlink" title="软件配置"></a>软件配置</h2><h3 id="Vscode"><a href="#Vscode" class="headerlink" title="Vscode"></a>Vscode</h3><p>下载<code>C/C++ Snippets</code>插件，上网查询相关配置，该插件用于对代码进行位置分布做限定，参考配置如下：</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;resource files&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;prefix&quot;</span><span class="punctuation">:</span> <span class="string">&quot;.chinit&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;body&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">            <span class="string">&quot;/*==============================================================================&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="string">&quot;=======                             Includes                             =======&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="string">&quot;==============================================================================*/&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="string">&quot;&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="string">&quot;/*==============================================================================&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="string">&quot;=======               Defines &amp; Macros for General Purpose               =======&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="string">&quot;==============================================================================*/&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="string">&quot;&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="string">&quot;/*==============================================================================&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="string">&quot;=======                        Constants &amp; Types                         =======&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="string">&quot;==============================================================================*/&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="string">&quot;&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="string">&quot;/*==============================================================================&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="string">&quot;=======                        Global variables                          =======&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="string">&quot;==============================================================================*/&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="string">&quot;&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="string">&quot;/*==============================================================================&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="string">&quot;=======                        Local variables                           =======&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="string">&quot;==============================================================================*/&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="string">&quot;&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="string">&quot;/*==============================================================================&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="string">&quot;=======                        Global Function                           =======&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="string">&quot;==============================================================================*/&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="string">&quot;&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="string">&quot;/*==============================================================================&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="string">&quot;=======                        Local Function                            =======&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="string">&quot;==============================================================================*/&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="string">&quot;&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="string">&quot;/*==============================================================================&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="string">&quot;=======                    Function Implement List                       =======&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="string">&quot;==============================================================================*/&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="string">&quot;&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;description&quot;</span><span class="punctuation">:</span> <span class="string">&quot;use to c files&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;header files&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;prefix&quot;</span><span class="punctuation">:</span> <span class="string">&quot;.hhinit&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;body&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">            <span class="string">&quot;#ifndef $&#123;1:$&#123;TM_FILENAME/(.*)\\.h$/$&#123;1:/upcase&#125;_H/i&#125;&#125;&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="string">&quot;#define $1&quot;</span><span class="punctuation">,</span> </span><br><span class="line">            <span class="string">&quot;\n$&#123;2:#ifdef __cplusplus&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="string">&quot;extern \&quot;C\&quot;&#123;&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="string">&quot;#endif&#125;&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="string">&quot;&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="string">&quot;/*==============================================================================&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="string">&quot;=======                             INCLUDES                             =======&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="string">&quot;==============================================================================*/&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="string">&quot;&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="string">&quot;/*==============================================================================&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="string">&quot;=======               DEFINES &amp; MACROS FOR GENERAL PURPOSE               =======&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="string">&quot;==============================================================================*/&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="string">&quot;&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="string">&quot;/*==============================================================================&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="string">&quot;=======                        CONSTANTS &amp; TYPES                         =======&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="string">&quot;==============================================================================*/&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="string">&quot;&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="string">&quot;/*==============================================================================&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="string">&quot;=======                             EXPORTS                              =======&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="string">&quot;==============================================================================*/&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="string">&quot;&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="string">&quot;/*==============================================================================&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="string">&quot;=======                  PROTOTYPES OF PUBLIC FUNCTIONS                  =======&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="string">&quot;==============================================================================*/&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="string">&quot;&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="string">&quot;#ifdef __cplusplus&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="string">&quot;&#125;&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="string">&quot;#endif&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="string">&quot;&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="string">&quot;#endif\t/* $1 */\n&quot;</span></span><br><span class="line">        <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;description&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Avoid Repetition&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;line&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;prefix&quot;</span><span class="punctuation">:</span> <span class="string">&quot;.line&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;body&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">            <span class="string">&quot;/*************************************** $&#123;xxx&#125; ****************************************/&quot;</span><span class="punctuation">,</span></span><br><span class="line"></span><br><span class="line">        <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;description&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Avoid Repetition&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>

<p>下载<code>KoroFileHeader</code>插件，该配置用于生成头部申明和函数注释参考配置如下：</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">&quot;fileheader.customMade&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="comment">// Author字段是文件的创建者 可以在specialOptions中更改特殊属性</span></span><br><span class="line">    <span class="comment">// 公司项目和个人项目可以配置不同的用户名与邮箱 搜索: gitconfig includeIf  比如: https://ayase.moe/2021/03/09/customized-git-config/</span></span><br><span class="line">    <span class="comment">// 自动提取当前git config中的: 用户名、邮箱</span></span><br><span class="line">    <span class="attr">&quot;Author&quot;</span><span class="punctuation">:</span> <span class="string">&quot;git config user.name &amp;&amp; git config user.email&quot;</span><span class="punctuation">,</span> <span class="comment">// 同时获取用户名与邮箱</span></span><br><span class="line">    <span class="comment">// &quot;Author&quot;: &quot;git config user.name&quot;, // 仅获取用户名</span></span><br><span class="line">    <span class="comment">// &quot;Author&quot;: &quot;git config user.email&quot;, // 仅获取邮箱</span></span><br><span class="line">    <span class="comment">// &quot;Author&quot;: &quot;OBKoro1&quot;, // 写死的固定值 不从git config中获取</span></span><br><span class="line">    <span class="attr">&quot;Date&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Do not edit&quot;</span><span class="punctuation">,</span> <span class="comment">// 文件创建时间(不变)</span></span><br><span class="line">    <span class="comment">// LastEditors、LastEditTime、FilePath将会自动更新 如果觉得时间更新的太频繁可以使用throttleTime(默认为1分钟)配置更改更新时间。</span></span><br><span class="line">    <span class="attr">&quot;LastEditors&quot;</span><span class="punctuation">:</span> <span class="string">&quot;git config user.name &amp;&amp; git config user.email&quot;</span><span class="punctuation">,</span> <span class="comment">// 文件最后编辑者 与Author字段一致</span></span><br><span class="line">    <span class="comment">// 由于编辑文件就会变更最后编辑时间，多人协作中合并的时候会导致merge</span></span><br><span class="line">    <span class="comment">// 可以将时间颗粒度改为周、或者月，这样冲突就减少很多。搜索变更时间格式: dateFormat</span></span><br><span class="line">    <span class="attr">&quot;LastEditTime&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Do not edit&quot;</span><span class="punctuation">,</span> <span class="comment">// 文件最后编辑时间</span></span><br><span class="line">    <span class="comment">// 输出相对路径，类似: /文件夹名称/src/index.js</span></span><br><span class="line">    <span class="attr">&quot;FilePath&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Do not edit&quot;</span><span class="punctuation">,</span> <span class="comment">// 文件在项目中的相对路径 自动更新</span></span><br><span class="line">    <span class="comment">// 插件会自动将光标移动到Description选项中 方便输入 Description字段可以在specialOptions更改</span></span><br><span class="line">    <span class="attr">&quot;Description&quot;</span><span class="punctuation">:</span> <span class="string">&quot;&quot;</span><span class="punctuation">,</span> <span class="comment">// 介绍文件的作用、文件的入参、出参。</span></span><br><span class="line">    <span class="comment">// custom_string_obkoro1~custom_string_obkoro100都可以输出自定义信息</span></span><br><span class="line">    <span class="comment">// 可以设置多条自定义信息 设置个性签名、留下QQ、微信联系方式、输入空行等</span></span><br><span class="line">    <span class="attr">&quot;custom_string_obkoro1&quot;</span><span class="punctuation">:</span> <span class="string">&quot;&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="comment">// 版权声明 保留文件所有权利 自动替换年份 获取git配置的用户名和邮箱</span></span><br><span class="line">    <span class="comment">// 版权声明获取git配置, 与Author字段一致: $&#123;git_name&#125; $&#123;git_email&#125; $&#123;git_name_email&#125;</span></span><br><span class="line">    <span class="attr">&quot;custom_string_obkoro1_copyright&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Copyright (c) $&#123;now_year&#125; by Yasid, All Rights Reserved. &quot;</span></span><br><span class="line">    <span class="comment">// &quot;custom_string_obkoro1_copyright&quot;: &quot;Copyright (c) $&#123;now_year&#125; by 写死的公司名/用户名, All Rights Reserved. &quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line"><span class="attr">&quot;fileheader.cursorMode&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line"></span><br><span class="line">    <span class="attr">&quot;description&quot;</span><span class="punctuation">:</span> <span class="string">&quot;&quot;</span><span class="punctuation">,</span> <span class="comment">// 函数注释生成之后，光标移动到这里</span></span><br><span class="line">    <span class="attr">&quot;param&quot;</span><span class="punctuation">:</span> <span class="string">&quot;&quot;</span><span class="punctuation">,</span> <span class="comment">// param 开启函数参数自动提取 需要将光标放在函数行或者函数上方的空白行</span></span><br><span class="line">    <span class="attr">&quot;return&quot;</span><span class="punctuation">:</span> <span class="string">&quot;&quot;</span><span class="punctuation">,</span></span><br><span class="line"><span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br></pre></td></tr></table></figure>

<p>最终效果为：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * @Author: ryf 1815338123@qq.com</span></span><br><span class="line"><span class="comment"> * @Date: 2025-01-13 15:08:15</span></span><br><span class="line"><span class="comment"> * @LastEditors: ryf 1815338123@qq.com</span></span><br><span class="line"><span class="comment"> * @LastEditTime: 2025-01-13 16:54:04</span></span><br><span class="line"><span class="comment"> * @FilePath: \Bluetooth\BSW\Bsp\FR8016H\src\Bsp_Api.c</span></span><br><span class="line"><span class="comment"> * @Description: </span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> * Copyright (c) 2025 by Yasid, All Rights Reserved. </span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="comment">/*==============================================================================</span></span><br><span class="line"><span class="comment">=======                             Includes                             =======</span></span><br><span class="line"><span class="comment">==============================================================================*/</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;driver_gpio.h&quot;</span></span></span><br><span class="line"><span class="comment">/*==============================================================================</span></span><br><span class="line"><span class="comment">=======               Defines &amp; Macros for General Purpose               =======</span></span><br><span class="line"><span class="comment">==============================================================================*/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*==============================================================================</span></span><br><span class="line"><span class="comment">=======                        Constants &amp; Types                         =======</span></span><br><span class="line"><span class="comment">==============================================================================*/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*==============================================================================</span></span><br><span class="line"><span class="comment">=======                        Global variables                          =======</span></span><br><span class="line"><span class="comment">==============================================================================*/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*==============================================================================</span></span><br><span class="line"><span class="comment">=======                        Local variables                           =======</span></span><br><span class="line"><span class="comment">==============================================================================*/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*==============================================================================</span></span><br><span class="line"><span class="comment">=======                        Global Function                           =======</span></span><br><span class="line"><span class="comment">==============================================================================*/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*==============================================================================</span></span><br><span class="line"><span class="comment">=======                        Local Function                            =======</span></span><br><span class="line"><span class="comment">==============================================================================*/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*==============================================================================</span></span><br><span class="line"><span class="comment">=======                    Function Implement List                       =======</span></span><br><span class="line"><span class="comment">==============================================================================*/</span></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @description: </span></span><br><span class="line"><span class="comment"> * @return &#123;*&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">BspGpio_Init</span><span class="params">(<span class="type">void</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    system_setport_mux(GPIO_PORT_A, GPIO_BIT_5,PORTA5_FUNC_A5);</span><br><span class="line">    gpio_set_dir(GPIO_PORT_A, GPIO_BIT_5, GPIO_DIR_OUT);</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h1 id="变量"><a href="#变量" class="headerlink" title="变量"></a>变量</h1><p>变量类型的定义遵循严格的规范，以确保代码的可移植性、可读性和一致性。本规范定义了一套标准的数据类型，这些数据类型通常通过<strong>标准化类型定义文件</strong>（如 <code>Std_Types.h</code>）来实现。变量类型的前缀缩写用于标识变量的用途、模块或功能域。这些前缀缩写有助于提高代码的可读性和可维护性，同时确保变量命名的一致性和规范性。</p>
<h2 id="常见变量类型前缀缩写"><a href="#常见变量类型前缀缩写" class="headerlink" title="常见变量类型前缀缩写"></a>常见变量类型前缀缩写</h2><table>
<thead>
<tr>
<th align="center"><strong>前缀缩写</strong></th>
<th align="center"><strong>含义</strong></th>
<th align="left"><strong>示例</strong></th>
</tr>
</thead>
<tbody><tr>
<td align="center"><strong>u</strong></td>
<td align="center">无符号（unsigned）</td>
<td align="left"><code>uint8</code>：无符号8位整数；<code>uint16</code>：无符号16位整数。</td>
</tr>
<tr>
<td align="center"><strong>s</strong></td>
<td align="center">有符号（signed）</td>
<td align="left"><code>sint8</code>：有符号8位整数；<code>sint16</code>：有符号16位整数。</td>
</tr>
<tr>
<td align="center"><strong>f</strong></td>
<td align="center">浮点数（float）</td>
<td align="left"><code>float32</code>：32位浮点数；<code>float64</code>：64位浮点数。</td>
</tr>
<tr>
<td align="center"><strong>p</strong></td>
<td align="center">指针（pointer）</td>
<td align="left"><code>pBuf</code>：指向缓冲区的指针；<code>pData</code>：指向数据的指针。</td>
</tr>
<tr>
<td align="center"><strong>a</strong></td>
<td align="center">数组（array）</td>
<td align="left"><code>aSignal</code>：信号数组；<code>aData</code>：数据数组。</td>
</tr>
<tr>
<td align="center"><strong>b</strong></td>
<td align="center">布尔（boolean）</td>
<td align="left"><code>bFlag</code>：布尔标志；<code>bStatus</code>：布尔状态。</td>
</tr>
<tr>
<td align="center"><strong>e</strong></td>
<td align="center">枚举（enumeration）</td>
<td align="left"><code>eState</code>：状态枚举；<code>eMode</code>：模式枚举。</td>
</tr>
<tr>
<td align="center"><strong>t</strong></td>
<td align="center">结构体（struct）或类型（type）</td>
<td align="left"><code>tConfig</code>：配置结构体；<code>tData</code>：数据结构体。</td>
</tr>
<tr>
<td align="center"><strong>n</strong></td>
<td align="center">数量（number）或计数器（counter）</td>
<td align="left"><code>nCount</code>：计数器；<code>nSize</code>：大小。</td>
</tr>
<tr>
<td align="center"><strong>c</strong></td>
<td align="center">常量（constant）</td>
<td align="left"><code>cMaxValue</code>：最大值常量；<code>cMinValue</code>：最小值常量。</td>
</tr>
<tr>
<td align="center"><strong>k</strong></td>
<td align="center">配置常量（configuration constant）</td>
<td align="left"><code>kConfigParam</code>：配置参数常量。</td>
</tr>
<tr>
<td align="center"><strong>g</strong></td>
<td align="center">全局变量（global）</td>
<td align="left"><code>g_State</code>：全局状态；<code>g_Data</code>：全局数据。</td>
</tr>
<tr>
<td align="center"><strong>m</strong></td>
<td align="center">模块内部变量（module internal）</td>
<td align="left"><code>m_InternalData</code>：模块内部数据；<code>m_State</code>：模块内部状态。</td>
</tr>
<tr>
<td align="center"><strong>r</strong></td>
<td align="center">引用（reference）</td>
<td align="left"><code>rData</code>：数据引用；<code>rConfig</code>：配置引用。</td>
</tr>
<tr>
<td align="center"><strong>h</strong></td>
<td align="center">句柄（handle）</td>
<td align="left"><code>hModule</code>：模块句柄；<code>hResource</code>：资源句柄。</td>
</tr>
<tr>
<td align="center"><strong>x</strong></td>
<td align="center">扩展类型（extended type）或复杂类型</td>
<td align="left"><code>xComplexData</code>：复杂数据类型；<code>xExtendedConfig</code>：扩展配置类型。</td>
</tr>
</tbody></table>
<blockquote>
<p>[!important] </p>
<p>组合的顺序为：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[作用域前缀][数据类型前缀]_[变量含义]</span><br></pre></td></tr></table></figure>

<p>作用域前缀可选：</p>
<table>
<thead>
<tr>
<th>前缀</th>
<th>含义</th>
<th>示例</th>
</tr>
</thead>
<tbody><tr>
<td>g</td>
<td>全局变量(extern修饰或在c文件定义的全局变量且没有static修饰)</td>
<td>gu8Counter</td>
</tr>
<tr>
<td>m</td>
<td>模块级静态变量（文件中使用static定义的变量）</td>
<td>mu8Counter</td>
</tr>
<tr>
<td>p</td>
<td>指针类型</td>
<td>pu8Counter</td>
</tr>
<tr>
<td>无</td>
<td>局部变量（函数中的变量、形参。结构体中的变量）</td>
<td>u8Counter</td>
</tr>
</tbody></table>
<p>&#x3D;&#x3D;注意p可以和m或g组合，组合顺序为先g或m，之后再加p。g和m互斥，也就是说前缀可以是mp、gp，但不可以g和m同时出现，如gmp。&#x3D;&#x3D;</p>
<p>例子：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> _<span class="title">test</span></span></span><br><span class="line"><span class="class">&gt;</span>&#123;</span><br><span class="line">    uint8 u8Counter,</span><br><span class="line">   uint8* pu8Counter</span><br><span class="line">&#125;Test_t;</span><br><span class="line"></span><br><span class="line"><span class="type">static</span> uint16 mu16Counter;</span><br><span class="line">uint16* gpu16Counter;</span><br><span class="line">Test_t gtCounter;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">Func</span><span class="params">(uint8 u8Counter,uint8* pu8Counter)</span></span><br><span class="line">&#123;</span><br><span class="line">    sint8 s8Test = <span class="number">0</span>;</span><br><span class="line">    gtCounter.u8Counter = u8Counter;</span><br><span class="line">    gtCounter.pu8Counter = pu8Counter;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></blockquote>
<h2 id="模块相关变量前缀缩写"><a href="#模块相关变量前缀缩写" class="headerlink" title="模块相关变量前缀缩写"></a>模块相关变量前缀缩写</h2><p>除了通用的变量前缀缩写，还有一些与模块相关的变量前缀缩写：</p>
<table>
<thead>
<tr>
<th><strong>前缀缩写</strong></th>
<th><strong>模块&#x2F;功能域</strong></th>
<th><strong>示例</strong></th>
</tr>
</thead>
<tbody><tr>
<td><strong>Com_</strong></td>
<td>通信栈（Communication Stack）</td>
<td><code>Com_Signal</code>：通信信号；<code>Com_Pdu</code>：通信PDU。</td>
</tr>
<tr>
<td><strong>Pdu_</strong></td>
<td>协议数据单元（Protocol Data Unit）</td>
<td><code>Pdu_Info</code>：PDU信息；<code>Pdu_Length</code>：PDU长度。</td>
</tr>
<tr>
<td><strong>Can_</strong></td>
<td>CAN通信模块（CAN Driver）</td>
<td><code>Can_Pdu</code>：CAN PDU；<code>Can_State</code>：CAN状态。</td>
</tr>
<tr>
<td><strong>Lin_</strong></td>
<td>LIN通信模块（LIN Driver）</td>
<td><code>Lin_Pdu</code>：LIN PDU；<code>Lin_Config</code>：LIN配置。</td>
</tr>
<tr>
<td><strong>Eth_</strong></td>
<td>以太网通信模块（Ethernet Driver）</td>
<td><code>Eth_Frame</code>：以太网帧；<code>Eth_Config</code>：以太网配置。</td>
</tr>
<tr>
<td><strong>Dcm_</strong></td>
<td>诊断通信管理（Diagnostic Communication Manager）</td>
<td><code>Dcm_Request</code>：诊断请求；<code>Dcm_Response</code>：诊断响应。</td>
</tr>
<tr>
<td><strong>Dem_</strong></td>
<td>诊断事件管理（Diagnostic Event Manager）</td>
<td><code>Dem_Event</code>：诊断事件；<code>Dem_Status</code>：诊断状态。</td>
</tr>
<tr>
<td><strong>Nvm_</strong></td>
<td>非易失性存储管理（NVRAM Manager）</td>
<td><code>Nvm_Block</code>：NVM块；<code>Nvm_Data</code>：NVM数据。</td>
</tr>
<tr>
<td><strong>EcuM_</strong></td>
<td>ECU状态管理（ECU Manager）</td>
<td><code>EcuM_State</code>：ECU状态；<code>EcuM_Mode</code>：ECU模式。</td>
</tr>
<tr>
<td><strong>BswM_</strong></td>
<td>基础软件管理（Basic Software Manager）</td>
<td><code>BswM_Mode</code>：BSW模式；<code>BswM_State</code>：BSW状态。</td>
</tr>
<tr>
<td><strong>Os_</strong></td>
<td>操作系统（Operating System）</td>
<td><code>Os_Task</code>：OS任务；<code>Os_Alarm</code>：OS报警。</td>
</tr>
<tr>
<td><strong>SchM_</strong></td>
<td>调度管理（Scheduler Manager）</td>
<td><code>SchM_Task</code>：调度任务；<code>SchM_Config</code>：调度配置。</td>
</tr>
<tr>
<td><strong>Wdg_</strong></td>
<td>看门狗管理（Watchdog Manager）</td>
<td><code>Wdg_Mode</code>：看门狗模式；<code>Wdg_Config</code>：看门狗配置。</td>
</tr>
<tr>
<td><strong>Adc_</strong></td>
<td>模拟数字转换（ADC Driver）</td>
<td><code>Adc_Channel</code>：ADC通道；<code>Adc_Value</code>：ADC值。</td>
</tr>
<tr>
<td><strong>Gpt_</strong></td>
<td>通用定时器（General Purpose Timer）</td>
<td><code>Gpt_Channel</code>：GPT通道；<code>Gpt_Config</code>：GPT配置。</td>
</tr>
<tr>
<td><strong>Mcu_</strong></td>
<td>微控制器驱动（Microcontroller Driver）</td>
<td><code>Mcu_Mode</code>：MCU模式；<code>Mcu_Config</code>：MCU配置。</td>
</tr>
<tr>
<td><strong>Port_</strong></td>
<td>端口驱动（Port Driver）</td>
<td><code>Port_Pin</code>：端口引脚；<code>Port_Config</code>：端口配置。</td>
</tr>
<tr>
<td><strong>Dio_</strong></td>
<td>数字输入输出（Digital I&#x2F;O Driver）</td>
<td><code>Dio_Channel</code>：DIO通道；<code>Dio_Config</code>：DIO配置。</td>
</tr>
<tr>
<td><strong>Pwm_</strong></td>
<td>脉宽调制（PWM Driver）</td>
<td><code>Pwm_Channel</code>：PWM通道；<code>Pwm_Config</code>：PWM配置。</td>
</tr>
<tr>
<td><strong>Icu_</strong></td>
<td>输入捕获单元（Input Capture Unit）</td>
<td><code>Icu_Channel</code>：ICU通道；<code>Icu_Config</code>：ICU配置。</td>
</tr>
<tr>
<td><strong>Rte_</strong></td>
<td>运行时环境（Runtime Environment）</td>
<td><code>Rte_Instance</code>：RTE实例；<code>Rte_Config</code>：RTE配置。</td>
</tr>
</tbody></table>
<h3 id="基本数据类型"><a href="#基本数据类型" class="headerlink" title="基本数据类型"></a>基本数据类型</h3><p>在 <code>Std_Types.h</code> 中定义的标准基本数据类型：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="type">unsigned</span> <span class="type">char</span>         uint8;      <span class="comment">// 无符号8位整数</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">signed</span> <span class="type">char</span>           sint8;      <span class="comment">// 有符号8位整数</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">unsigned</span> <span class="type">short</span>        uint16;     <span class="comment">// 无符号16位整数</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">signed</span> <span class="type">short</span>          sint16;     <span class="comment">// 有符号16位整数</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">unsigned</span> <span class="type">long</span>         uint32;     <span class="comment">// 无符号32位整数</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">signed</span> <span class="type">long</span>           sint32;     <span class="comment">// 有符号32位整数</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">float</span>                 float32;    <span class="comment">// 32位浮点数</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">double</span>                float64;    <span class="comment">// 64位浮点数</span></span><br></pre></td></tr></table></figure>

<h3 id="布尔类型"><a href="#布尔类型" class="headerlink" title="布尔类型"></a>布尔类型</h3><p>AUTOSAR定义了标准的布尔类型：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="type">unsigned</span> <span class="type">char</span>         boolean;    <span class="comment">// 布尔类型</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> TRUE                  ((boolean)1)</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> FALSE                 ((boolean)0)</span></span><br></pre></td></tr></table></figure>

<h3 id="状态类型"><a href="#状态类型" class="headerlink" title="状态类型"></a>状态类型</h3><p>AUTOSAR定义了标准的状态类型：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> uint8 Std_ReturnType;             <span class="comment">// 标准返回类型</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> E_OK        ((Std_ReturnType)0)   <span class="comment">// 操作成功</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> E_NOT_OK    ((Std_ReturnType)1)   <span class="comment">// 操作失败</span></span></span><br></pre></td></tr></table></figure>

<h3 id="复合数据类型"><a href="#复合数据类型" class="headerlink" title="复合数据类型"></a>复合数据类型</h3><p>复合数据类型（如结构体、枚举）通常用于表示复杂的数据结构。</p>
<ul>
<li><p><strong>结构体示例</strong>：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> &#123;</span></span><br><span class="line">    uint8 channelState;  <span class="comment">// 通道状态</span></span><br><span class="line">    uint8 channelId;     <span class="comment">// 通道ID</span></span><br><span class="line">&#125; ComM_Channel_t;      <span class="comment">// 通信管理模块的通道类型</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>枚举示例</strong>：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">enum</span> &#123;</span></span><br><span class="line">    COM_M_CHANNEL_INACTIVE,  <span class="comment">// 通道未激活</span></span><br><span class="line">    COM_M_CHANNEL_ACTIVE     <span class="comment">// 通道激活</span></span><br><span class="line">&#125; ComM_ChannelState_e;     <span class="comment">// 通信管理模块的通道状态类型</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="指针类型"><a href="#指针类型" class="headerlink" title="指针类型"></a>指针类型</h3><p>AUTOSAR中通常使用标准化的指针类型：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> uint8* Ptr_u8;        <span class="comment">// 指向uint8的指针</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">const</span> uint8* Ptr_const_u8;  <span class="comment">// 指向const uint8的指针</span></span><br></pre></td></tr></table></figure>

<h3 id="数组类型"><a href="#数组类型" class="headerlink" title="数组类型"></a>数组类型</h3><p>数组类型通常用于表示一组相同类型的数据：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> uint8 Com_SignalArrayType[<span class="number">10</span>];  <span class="comment">// 通信信号数组类型</span></span><br></pre></td></tr></table></figure>

<p>常量、宏、模版的名字应该全部大写。如果这些名字由多个单词组成，则单词之间用下划线分隔。</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">define</span> LOG_BUF_SIZE 8000</span></span><br></pre></td></tr></table></figure>

<h2 id="配置头文件"><a href="#配置头文件" class="headerlink" title="配置头文件"></a>配置头文件</h2><blockquote>
<p>[!important] </p>
<p>请务必将此文件加入到BSW&#x2F;Include或ASP&#x2F;Include文件夹中，该文件为基本类型定义。</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">ifndef</span> STD_TYPES_H</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> STD_TYPES_H</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 标准数据类型定义</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">unsigned</span> <span class="type">char</span>         uint8;</span><br><span class="line"><span class="keyword">typedef</span> <span class="type">signed</span> <span class="type">char</span>           sint8;</span><br><span class="line"><span class="keyword">typedef</span> <span class="type">unsigned</span> <span class="type">short</span>        uint16;</span><br><span class="line"><span class="keyword">typedef</span> <span class="type">signed</span> <span class="type">short</span>          sint16;</span><br><span class="line"><span class="keyword">typedef</span> <span class="type">unsigned</span> <span class="type">long</span>         uint32;</span><br><span class="line"><span class="keyword">typedef</span> <span class="type">signed</span> <span class="type">long</span>           sint32;</span><br><span class="line"><span class="keyword">typedef</span> <span class="type">unsigned</span> <span class="type">long</span> <span class="type">long</span>    uint64;</span><br><span class="line"><span class="keyword">typedef</span> <span class="type">signed</span> <span class="type">long</span> <span class="type">long</span>      sint64;</span><br><span class="line"><span class="keyword">typedef</span> <span class="type">float</span>                 float32;</span><br><span class="line"><span class="keyword">typedef</span> <span class="type">double</span>                float64;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 布尔类型定义</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">unsigned</span> <span class="type">char</span> boolean;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">ifndef</span> TRUE</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> TRUE    ((boolean) 1)</span></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">ifndef</span> FALSE</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> FALSE   ((boolean) 0)</span></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 状态类型定义</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> E_OK        ((Std_ReturnType) 0x00)</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> E_NOT_OK    ((Std_ReturnType) 0x01)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// NULL 指针定义</span></span><br><span class="line"><span class="meta">#<span class="keyword">ifndef</span> NULL</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> NULL ((void *)0)</span></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 位操作宏</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> SET_BIT(reg, bit)    ((reg) |= (1 &lt;&lt; (bit)))</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> CLEAR_BIT(reg, bit)  ((reg) &amp;= ~(1 &lt;&lt; (bit)))</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> TOGGLE_BIT(reg, bit) ((reg) ^= (1 &lt;&lt; (bit)))</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> GET_BIT(reg, bit)    (((reg) &gt;&gt; (bit)) &amp; 0x01)</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">ifdef</span> __cplusplus</span></span><br><span class="line"><span class="keyword">extern</span> <span class="string">&quot;C&quot;</span> &#123;</span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">ifdef</span> __cplusplus</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span> <span class="comment">// STD_TYPES_H</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h1 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h1><h2 id="命名规则"><a href="#命名规则" class="headerlink" title="命名规则"></a>命名规则</h2><ol>
<li><p>函数的命名规则：</p>
<p>每一个函数名前缀需包含模块名，模块名为小写，与函数名区别开。</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">uartReceive(串口接收)</span><br></pre></td></tr></table></figure>

<p>对于非常简单的程序，可以不加模块名。</p>
</li>
<li><p>函数形参</p>
<p>函数的的形参都以下划线_开头，已示与普通变量进行区分，对于没有形参为空的函数(void)括号紧跟函数后面。</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">uint32_t</span> <span class="title function_">uartConvUartBaud</span><span class="params">(<span class="type">uint32_t</span> _ulBaud)</span></span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>一个函数仅完成一件功能。</p>
</li>
<li><p>函数名应准确描述函数的功能，使用动宾词组为执行某操作的函数命名。</p>
<p>避免用含义不清的动词如<code>process</code>、<code>handle</code>等为函数命名，因为这些动词并没有说明要具体做什么。参照如下方式命名函数。</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">PrintRecord</span><span class="params">(<span class="type">uint32_t</span> _RecInd)</span>;</span><br><span class="line">int32 <span class="title function_">InputRecord</span> <span class="params">(<span class="type">void</span>)</span>;</span><br><span class="line">uint8 t <span class="title function_">GetCurrentColor</span><span class="params">(<span class="type">void</span>)</span>;</span><br></pre></td></tr></table></figure>
</li>
<li><p>避免设计五个以上参数函数，不使用的参数从接口中去掉。目的减少函数间接口的复杂度，复杂的参数可以使用结构传递。</p>
</li>
<li><p>在调用函数填写参数时，应尽量减少没有必要的默认数据类型转换或强制数据类型转换。因为数据类型转换或多或少存在危险。</p>
</li>
<li><p>防止把没有关联的语句放到一个函数中。如下函数就是一种随机内聚。</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">InitVar</span><span class="params">(<span class="type">void</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    Rect.length = <span class="number">0</span>;</span><br><span class="line">    Rect.width = <span class="number">0</span>;<span class="comment">/*初始化矩形的长与宽*/</span></span><br><span class="line">    Point.x = <span class="number">10</span>;</span><br><span class="line">    Point.y = <span class="number">10</span>;<span class="comment">/*初始化“点”的坐标*/</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>矩形的长、宽与点的坐标基本没有任何关系，故以上函数是随机内聚。应如下分为两个函数：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">InitRect</span><span class="params">(<span class="type">void</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    Rect.length = <span class="number">0</span>;</span><br><span class="line">    Rect.width = <span class="number">0</span>;<span class="comment">/*初始化矩形的长与宽*/</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="type">void</span> <span class="title function_">InitPoint</span><span class="params">(<span class="type">void</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    Point.x = <span class="number">10</span>;</span><br><span class="line">    Point.y = <span class="number">10</span>;<span class="comment">/*初始化“点”的坐标*/</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ol>
<p>​	<strong>API接口函数</strong>的命名遵循严格的规范，以确保代码的可读性、一致性和可维护性。 API接口函数通常用于模块之间的交互，例如操作系统（OS）、通信栈（COM）、诊断栈（DCM）等。以下是 API接口函数命名的详细规则和示例。</p>
<ul>
<li><p><strong>前缀</strong>：模块或服务的缩写（如 <code>Os_</code>、<code>Com_</code>、<code>Dcm_</code>、<code>Bsp</code> 或 <code>Bsp&lt;模块名&gt;</code>）。</p>
</li>
<li><p><strong>动作描述</strong>：描述函数的主要操作（如 <code>Init</code>、<code>Start</code>、<code>Get</code>、<code>Set</code>）。</p>
</li>
<li><p><strong>对象描述</strong>：描述操作的对象（如 <code>State</code>、<code>Value</code>、<code>Mode</code>）。</p>
</li>
<li><p><strong>大小写</strong>：采用驼峰命名法，首字母大写。</p>
<p>例如：</p>
</li>
</ul>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">BspWdg_Init</span><span class="params">(<span class="type">void</span>)</span>;</span><br></pre></td></tr></table></figure>



<ol>
<li><p><strong>前缀</strong>：</p>
<ul>
<li>使用模块或服务的缩写作为前缀，例如：<ul>
<li><code>Os_</code>：操作系统（OS）模块。</li>
<li><code>Com_</code>：通信栈（COM）模块。</li>
<li><code>Dcm_</code>：诊断通信管理（DCM）模块。</li>
<li><code>EcuM_</code>：ECU状态管理（ECU Manager）模块。</li>
<li><code>SchM_</code>：调度管理（Scheduler Manager）模块。</li>
<li><code>BspGpio</code>、<code>BspAdc</code>。</li>
</ul>
</li>
</ul>
</li>
<li><p><strong>动作描述</strong>：</p>
<ul>
<li>描述函数的主要操作，例如：<ul>
<li><code>Init</code>：初始化。</li>
<li><code>Start</code>：启动。</li>
<li><code>Stop</code>：停止。</li>
<li><code>Get</code>：获取数据。</li>
<li><code>Set</code>：设置数据。</li>
<li><code>MainFunction</code>：主函数（周期性调用）。</li>
</ul>
</li>
</ul>
</li>
<li><p><strong>对象描述</strong>：</p>
<ul>
<li>描述函数操作的对象或目标，例如：<ul>
<li><code>State</code>：状态。</li>
<li><code>Value</code>：值。</li>
<li><code>Mode</code>：模式。</li>
<li><code>Status</code>：状态。</li>
</ul>
</li>
</ul>
</li>
<li><p><strong>大小写</strong>：</p>
<ul>
<li>采用<strong>驼峰命名法</strong>（CamelCase），首字母大写。</li>
</ul>
</li>
</ol>
<h2 id="BSP层函数名详细设计"><a href="#BSP层函数名详细设计" class="headerlink" title="BSP层函数名详细设计"></a>BSP层函数名详细设计</h2><ol>
<li><p><strong>前缀+模块名称</strong>：</p>
<ul>
<li><p>使用 <code>Bsp_</code> 作为前缀，表示属于BSP层的函数。</p>
</li>
<li><p>如果BSP模块进一步细分（如GPIO、ADC等），可能会使用更具体的前缀，例如 <code>BspGpio_</code> 或 <code>BspAdc_</code>。</p>
</li>
<li><p>模块名称：指明具体的硬件模块或功能，例如 <code>Gpio</code>、<code>Adc</code>、<code>Pwm</code> 等。</p>
</li>
</ul>
</li>
<li><p><strong>动作描述</strong>：</p>
<ul>
<li>描述函数的具体操作，例如 <code>Read</code>、<code>Write</code>、<code>Init</code>、<code>Set</code> 等。</li>
</ul>
</li>
<li><p><strong>对象描述</strong>：</p>
<ul>
<li>描述函数操作的对象或目标，例如 <code>Pin</code>、<code>Channel</code>、<code>Port</code> 等。</li>
</ul>
</li>
<li><p><strong>大小写</strong>：</p>
<ul>
<li>采用<strong>驼峰命名法</strong>（CamelCase），首字母大写。</li>
</ul>
</li>
</ol>
<blockquote>
<p>[!important] </p>
<p>请严格参照以下写法书写BSP函数接口以方便系统移植‼‼‼‼</p>
</blockquote>
<h3 id="GPIO模块"><a href="#GPIO模块" class="headerlink" title="GPIO模块"></a>GPIO模块</h3><ul>
<li><p>初始化GPIO：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">BspGpio_Init</span><span class="params">(<span class="type">void</span>)</span>;</span><br></pre></td></tr></table></figure>
</li>
<li><p>设置GPIO引脚状态：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">BspGpio_SetPin</span><span class="params">(<span class="type">uint32_t</span> Port,<span class="type">uint32_t</span> Pin,<span class="type">uint32_t</span> State)</span>;</span><br></pre></td></tr></table></figure>
</li>
<li><p>读取GPIO引脚状态：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">uint8_t</span>* <span class="title function_">BspGpio_ReadPin</span><span class="params">(<span class="type">uint32_t</span> Port,<span class="type">uint32_t</span> Pin)</span>;</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="ADC模块"><a href="#ADC模块" class="headerlink" title="ADC模块"></a>ADC模块</h3><ul>
<li><p>初始化ADC：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">BspAdc_Init</span><span class="params">(<span class="type">void</span>)</span>;</span><br></pre></td></tr></table></figure>
</li>
<li><p>读取ADC通道的值：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">uint16_t</span> <span class="title function_">BspAdc_ReadChannel</span><span class="params">(uint8 Channel)</span>;</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="PWM模块"><a href="#PWM模块" class="headerlink" title="PWM模块"></a>PWM模块</h3><ul>
<li><p>初始化PWM：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">BspPwm_Init</span><span class="params">(<span class="type">void</span>)</span>;</span><br></pre></td></tr></table></figure>
</li>
<li><p>设置PWM占空比：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">BspPwm_SetDutyCycle</span><span class="params">(uint8 Channel, uint8 DutyCycle)</span>;</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="CAN模块"><a href="#CAN模块" class="headerlink" title="CAN模块"></a>CAN模块</h3><ul>
<li><p>初始化CAN控制器：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">BspCan_Init</span><span class="params">(<span class="type">void</span>)</span>;</span><br></pre></td></tr></table></figure>
</li>
<li><p>发送CAN消息：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">BspCan_WriteMessage</span><span class="params">(uint8 MessageId, uint8* Data, uint8 Length)</span>;</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="Timer模块"><a href="#Timer模块" class="headerlink" title="Timer模块"></a>Timer模块</h3><ul>
<li><p>初始化定时器：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">BspTimer_Init</span><span class="params">(<span class="type">void</span>)</span>;</span><br></pre></td></tr></table></figure>
</li>
<li><p>启动定时器：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">BspTimer_Start</span><span class="params">(uint8 TimerId)</span>;</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="Watchdog模块"><a href="#Watchdog模块" class="headerlink" title="Watchdog模块"></a>Watchdog模块</h3><ul>
<li><p>初始化看门狗：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">BspWdg_Init</span><span class="params">(<span class="type">void</span>)</span>;</span><br></pre></td></tr></table></figure>
</li>
<li><p>刷新看门狗：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">BspWdg_Refresh</span><span class="params">(<span class="type">void</span>)</span>;</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="操作系统（OS）模块"><a href="#操作系统（OS）模块" class="headerlink" title="操作系统（OS）模块"></a>操作系统（OS）模块</h3><ul>
<li><p>启动操作系统：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">Os_Start</span><span class="params">(<span class="type">void</span>)</span>;</span><br></pre></td></tr></table></figure>
</li>
<li><p>获取任务状态：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">StatusType <span class="title function_">Os_GetTaskState</span><span class="params">(TaskType TaskId, TaskStateRefType State)</span>;</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="通信栈（COM）模块"><a href="#通信栈（COM）模块" class="headerlink" title="通信栈（COM）模块"></a>通信栈（COM）模块</h3><ul>
<li><p>初始化通信栈：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">Com_Init</span><span class="params">(<span class="type">void</span>)</span>;</span><br></pre></td></tr></table></figure>
</li>
<li><p>发送信号：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Std_ReturnType <span class="title function_">Com_SendSignal</span><span class="params">(Com_SignalIdType SignalId, <span class="type">const</span> <span class="type">void</span>* SignalData)</span>;</span><br></pre></td></tr></table></figure>
</li>
<li><p>通信栈主函数：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">Com_MainFunction</span><span class="params">(<span class="type">void</span>)</span>;</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="诊断通信管理（DCM）模块"><a href="#诊断通信管理（DCM）模块" class="headerlink" title="诊断通信管理（DCM）模块"></a>诊断通信管理（DCM）模块</h3><ul>
<li><p>初始化诊断模块：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">Dcm_Init</span><span class="params">(<span class="type">void</span>)</span>;</span><br></pre></td></tr></table></figure>
</li>
<li><p>处理诊断请求：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Std_ReturnType <span class="title function_">Dcm_ProcessRequest</span><span class="params">(Dcm_MessageType RequestMessage)</span>;</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="ECU状态管理（EcuM）模块"><a href="#ECU状态管理（EcuM）模块" class="headerlink" title="ECU状态管理（EcuM）模块"></a>ECU状态管理（EcuM）模块</h3><ul>
<li><p>初始化ECU状态管理：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">EcuM_Init</span><span class="params">(<span class="type">void</span>)</span>;</span><br></pre></td></tr></table></figure>
</li>
<li><p>启动ECU：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">EcuM_Start</span><span class="params">(<span class="type">void</span>)</span>;</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="调度管理（SchM）模块"><a href="#调度管理（SchM）模块" class="headerlink" title="调度管理（SchM）模块"></a>调度管理（SchM）模块</h3><ul>
<li><p>初始化调度管理：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">SchM_Init</span><span class="params">(<span class="type">void</span>)</span>;</span><br></pre></td></tr></table></figure>
</li>
<li><p>主调度函数：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">SchM_MainFunction</span><span class="params">(<span class="type">void</span>)</span>;</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="存储栈（NVM）模块"><a href="#存储栈（NVM）模块" class="headerlink" title="存储栈（NVM）模块"></a>存储栈（NVM）模块</h3><ul>
<li><p>初始化NVM模块：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">Nvm_Init</span><span class="params">(<span class="type">void</span>)</span>;</span><br></pre></td></tr></table></figure>
</li>
<li><p>读取数据：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Std_ReturnType <span class="title function_">Nvm_ReadBlock</span><span class="params">(Nvm_BlockIdType BlockId, <span class="type">void</span>* Data)</span>;</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="看门狗管理（Wdg）模块"><a href="#看门狗管理（Wdg）模块" class="headerlink" title="看门狗管理（Wdg）模块"></a>看门狗管理（Wdg）模块</h3><ul>
<li><p>初始化看门狗：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">Wdg_Init</span><span class="params">(<span class="type">void</span>)</span>;</span><br></pre></td></tr></table></figure>
</li>
<li><p>刷新看门狗：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">Wdg_Refresh</span><span class="params">(<span class="type">void</span>)</span>;</span><br></pre></td></tr></table></figure></li>
</ul>
<hr>
<h3 id="注意事项"><a href="#注意事项" class="headerlink" title="注意事项"></a>注意事项</h3><ol>
<li><strong>一致性</strong>：确保所有API接口函数的命名风格一致。</li>
<li><strong>可读性</strong>：函数名应清晰表达其功能，便于开发人员理解。</li>
<li><strong>模块化</strong>：根据模块的功能划分API接口，避免功能混杂。</li>
<li><strong>标准化</strong>：遵循AUTOSAR官方文档中的命名规范，确保与AUTOSAR标准兼容。</li>
</ol>
<h2 id="6-3-函数设计"><a href="#6-3-函数设计" class="headerlink" title="6.3 函数设计"></a>6.3 函数设计</h2><p>在 AUTOSAR 中，函数设计规范是确保代码可读性、可维护性和一致性的重要部分。AUTOSAR 的函数设计规范通常基于 <strong>MISRA C</strong> 标准，并结合汽车电子系统的特殊需求。以下是 AUTOSAR 中函数设计规范的主要内容：</p>
<hr>
<h3 id="6-3-1-函数命名规范"><a href="#6-3-1-函数命名规范" class="headerlink" title="6.3.1. 函数命名规范"></a><strong>6.3.1. 函数命名规范</strong></h3><h4 id="命名规则-1"><a href="#命名规则-1" class="headerlink" title="命名规则"></a><strong>命名规则</strong></h4><ul>
<li><strong>模块前缀</strong>：函数名应以模块名作为前缀（如 <code>Can_</code> 表示 CAN 模块，<code>Dcm_</code> 表示诊断通信管理模块）。</li>
<li><strong>动作描述</strong>：函数名应清晰描述其功能，使用动词开头。</li>
<li><strong>命名风格</strong>：使用驼峰命名法（CamelCase）。</li>
</ul>
<p><strong>示例</strong>：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">Can_Init</span><span class="params">(<span class="type">void</span>)</span>;                      <span class="comment">// CAN 模块初始化</span></span><br><span class="line">Std_ReturnType <span class="title function_">Can_SendMessage</span><span class="params">(uint8 messageId, uint8* data)</span>;  <span class="comment">// 发送 CAN 消息</span></span><br></pre></td></tr></table></figure>

<hr>
<h3 id="6-3-2-函数长度"><a href="#6-3-2-函数长度" class="headerlink" title="6.3.2. 函数长度"></a><strong>6.3.2. 函数长度</strong></h3><h4 id="函数长度限制"><a href="#函数长度限制" class="headerlink" title="函数长度限制"></a><strong>函数长度限制</strong></h4><ul>
<li>每个函数的代码行数不应超过 <strong>50 行</strong>。</li>
<li>如果函数逻辑复杂，应将其拆分为多个子函数。</li>
</ul>
<hr>
<h3 id="6-3-3-函数参数"><a href="#6-3-3-函数参数" class="headerlink" title="6.3.3. 函数参数"></a><strong>6.3.3. 函数参数</strong></h3><h4 id="参数数量"><a href="#参数数量" class="headerlink" title="参数数量"></a><strong>参数数量</strong></h4><ul>
<li>函数的参数数量不应超过 <strong>5 个</strong>。</li>
<li>如果参数过多，应考虑使用结构体封装。</li>
</ul>
<p><strong>示例</strong>：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    uint8 messageId;</span><br><span class="line">    uint8* data;</span><br><span class="line">    uint8 length;</span><br><span class="line">&#125; CanMessage_t;</span><br><span class="line"></span><br><span class="line">Std_ReturnType <span class="title function_">Can_SendMessage</span><span class="params">(<span class="type">const</span> CanMessage_t* message)</span>;</span><br></pre></td></tr></table></figure>

<h4 id="数类型"><a href="#数类型" class="headerlink" title="数类型"></a><strong>数类型</strong></h4><ul>
<li>使用 AUTOSAR 定义的标准数据类型（如 <code>uint8</code>、<code>sint16</code>、<code>float32</code> 等）。</li>
<li>使用 <code>const</code> 修饰只读参数。</li>
</ul>
<p><strong>示例</strong>：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">Can_ProcessMessage</span><span class="params">(<span class="type">const</span> uint8* data, uint8 length)</span>;</span><br></pre></td></tr></table></figure>

<h4 id="参数顺序"><a href="#参数顺序" class="headerlink" title="参数顺序"></a><strong>参数顺序</strong></h4><ul>
<li>输入参数在前，输出参数在后。</li>
<li>如果函数有返回值，输出参数应放在最后。</li>
</ul>
<p><strong>示例</strong>：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Std_ReturnType <span class="title function_">Can_ReadMessage</span><span class="params">(uint8 messageId, uint8* data, uint8* length)</span>;</span><br></pre></td></tr></table></figure>

<hr>
<h3 id="6-3-4-返回值"><a href="#6-3-4-返回值" class="headerlink" title="6.3.4. 返回值"></a><strong>6.3.4. 返回值</strong></h3><h4 id="返回值类型"><a href="#返回值类型" class="headerlink" title="返回值类型"></a><strong>返回值类型</strong></h4><ul>
<li><p>使用 <code>Std_ReturnType</code> 作为函数返回值类型，表示函数执行状态。</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> uint8 Std_ReturnType;</span><br><span class="line"><span class="meta">#<span class="keyword">define</span> E_OK     0x00</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> E_NOT_OK 0x01</span></span><br></pre></td></tr></table></figure></li>
</ul>
<p><strong>示例</strong>：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Std_ReturnType <span class="title function_">Can_Init</span><span class="params">(<span class="type">void</span>)</span>;</span><br></pre></td></tr></table></figure>

<h4 id="返回值检查"><a href="#返回值检查" class="headerlink" title="返回值检查"></a><strong>返回值检查</strong></h4><ul>
<li>调用函数时，应检查其返回值，确保错误被正确处理。</li>
</ul>
<p><strong>示例</strong>：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Std_ReturnType ret = Can_Init();</span><br><span class="line"><span class="keyword">if</span> (ret != E_OK)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// Handle error</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<hr>
<h3 id="6-4-函数内部设计"><a href="#6-4-函数内部设计" class="headerlink" title="6.4 函数内部设计"></a><strong>6.4 函数内部设计</strong></h3><h4 id="局部变量"><a href="#局部变量" class="headerlink" title="局部变量"></a><strong>局部变量</strong></h4><ul>
<li>局部变量应在函数开头声明，并初始化。</li>
<li>变量名应清晰表达其用途。</li>
</ul>
<p><strong>示例</strong>：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">Can_ProcessMessage</span><span class="params">(<span class="type">const</span> uint8* data, uint8 length)</span></span><br><span class="line">&#123;</span><br><span class="line">    uint8 messageId = data[<span class="number">0</span>];</span><br><span class="line">    uint8 payloadLength = length - <span class="number">1</span>;</span><br><span class="line">    <span class="comment">// Process message</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="控制结构"><a href="#控制结构" class="headerlink" title="控制结构"></a><strong>控制结构</strong></h4><ul>
<li>使用括号明确条件表达式的优先级。</li>
<li>避免使用复杂的嵌套条件语句。</li>
</ul>
<p><strong>示例</strong>：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> ((u8Value &gt; <span class="number">0</span>) &amp;&amp; (u8Value &lt; <span class="number">100</span>))</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// Code block</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="错误处理"><a href="#错误处理" class="headerlink" title="错误处理"></a><strong>错误处理</strong></h4><ul>
<li>在函数内部检查输入参数的有效性，并在发现错误时立即返回。</li>
<li>使用 <code>assert</code> 检查程序中的假设条件。</li>
</ul>
<p><strong>示例</strong>：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">Std_ReturnType <span class="title function_">Can_SendMessage</span><span class="params">(uint8 messageId, <span class="type">const</span> uint8* data, uint8 length)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (data == <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> E_NOT_OK;  <span class="comment">// Invalid input parameter</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (length &gt; MAX_MESSAGE_LENGTH)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> E_NOT_OK;  <span class="comment">// Invalid message length</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// Send message</span></span><br><span class="line">    <span class="keyword">return</span> E_OK;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<hr>
<h3 id="6-5-函数复用与模块化"><a href="#6-5-函数复用与模块化" class="headerlink" title="6.5 函数复用与模块化"></a><strong>6.5 函数复用与模块化</strong></h3><h4 id="复用性"><a href="#复用性" class="headerlink" title="复用性"></a><strong>复用性</strong></h4><ul>
<li>将通用功能封装为独立的函数，以便复用。</li>
<li>避免在多个函数中重复相同的代码。</li>
</ul>
<p><strong>示例</strong>：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">uint8 <span class="title function_">CalculateChecksum</span><span class="params">(<span class="type">const</span> uint8* data, uint8 length)</span></span><br><span class="line">&#123;</span><br><span class="line">    uint8 checksum = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (uint8 i = <span class="number">0</span>; i &lt; length; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        checksum += data[i];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> checksum;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="模块化"><a href="#模块化" class="headerlink" title="模块化"></a><strong>模块化</strong></h4><ul>
<li>将功能相关的函数组织在同一个模块中。</li>
<li>使用头文件声明模块的接口函数。</li>
</ul>
<p><strong>示例</strong>：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// can_driver.h</span></span><br><span class="line"><span class="meta">#<span class="keyword">ifndef</span> CAN_DRIVER_H</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> CAN_DRIVER_H</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;Std_Types.h&quot;</span></span></span><br><span class="line"></span><br><span class="line">Std_ReturnType <span class="title function_">Can_Init</span><span class="params">(<span class="type">void</span>)</span>;</span><br><span class="line">Std_ReturnType <span class="title function_">Can_SendMessage</span><span class="params">(uint8 messageId, <span class="type">const</span> uint8* data, uint8 length)</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span>  <span class="comment">// CAN_DRIVER_H</span></span></span><br></pre></td></tr></table></figure>

</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class="post-copyright-info"><a href="https://youshouldtrustme.github.io">ryf</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接: </span><span class="post-copyright-info"><a href="https://youshouldtrustme.github.io/2025/09/13/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/%E7%BC%96%E7%A8%8B%E8%A7%84%E8%8C%83/">https://youshouldtrustme.github.io/2025/09/13/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/%E7%BC%96%E7%A8%8B%E8%A7%84%E8%8C%83/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来源 <a href="https://youshouldtrustme.github.io" target="_blank">🍭​你要信我啊の博客​</a>！</span></div></div><div class="tag_share"><div class="post-share"><div class="social-share" data-image="/img/RandomCoverImage/random_4.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><a class="pagination-related" href="/2025/09/13/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E5%9F%BA%E7%A1%80/" title="计算机系统基础"><img class="cover" src="https://gitlab.com/18355291538/picture/-/raw/main/pictures/2024/08/6_11_15_6_202408061115430.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="info"><div class="info-1"><div class="info-item-1">上一篇</div><div class="info-item-2">计算机系统基础</div></div><div class="info-2"><div class="info-item-1">参考链接计算机系统基础(一)：程序的表示、转换与链接_南京大学_中国大学MOOC(慕课) 概述计算机基本工作原理冯诺依曼结构硬件模型基本结构  模型中包含以下四个部分  用来存放指令和数据的主存储器，简称&#x3D;&#x3D;主存或内存&#x3D;&#x3D;； 用来进行算术逻辑运算的部件，即算术逻辑部件(Arithmetic Logic Unit,简称&#x3D;&#x3D;ALU&#x3D;&#x3D;),在ALU操作控制信号ALUop的控制下，ALU可以对输人端A和B进行不同的运算，得到结果F; 用于自动逐条取出指令并进行译码的部件，即控制部件(Control Unit,简称CU),也称&#x3D;&#x3D;控制器&#x3D;&#x3D;； 用来和用户交互的&#x3D;&#x3D;输入设备和输出设备&#x3D;&#x3D;。  CPU内部不同的组件  为了临时存放从主存取来的数据或运算的结果，还需要若干通用寄存器(General Purpose Register)组成通用寄存器组(&#x3D;&#x3D;GPRs&#x3D;&#x3D;)，ALU两个输入端A和B的数据来...</div></div></div></a><a class="pagination-related" href="/2025/09/13/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/%E6%B5%8B%E8%AF%95%E5%9F%BA%E7%A1%80/" title="测试基础"><img class="cover" src="/img/RandomCoverImage/random_11.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="info text-right"><div class="info-1"><div class="info-item-1">下一篇</div><div class="info-item-2">测试基础</div></div><div class="info-2"><div class="info-item-1">测试指标测试覆盖率测试覆盖率(（Test Coverage)是测试用例执行时，系统或代码的覆盖程度。它反映了测试是否覆盖了系统的各个方面，包括功能、代码、路径等。 不同的测试覆盖率指标提供了对测试的不同层面的检查。一般来说：  语句覆盖率和分支覆盖率是最常用的基础覆盖率，适用于大多数场景。 路径覆盖率和多条件覆盖率适用于复杂的系统，特别是那些有大量分支和复杂条件的系统。 函数覆盖率、调用路径覆盖率等适用于验证系统中的函数调用和路径的完整性。  功能覆盖率功能覆盖率（Functional Coverage）是指测试用例对系统中所有功能点的覆盖程度。它确保每个功能都得到了测试。计算方法为：$$功能覆盖率 &#x3D; （已执行的功能点数量 &#x2F; 总功能点数量）× 100%$$应用场景：  适用于验证系统是否实现了所有设计或需求文档中的功能。 适合功能测试，确保所有业务流程、用例和需求都已测试。  语句覆盖率语句覆盖率（Statement Coverage）是指测试用例执行过程中，程序中每个语句被执行的次数。它衡量了代码中每一行是否都被测试过。计算方法为：$$语句覆盖率 &#x...</div></div></div></a></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src="/img/avatar.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info-name">ryf</div><div class="author-info-description">嵌入式菜鸟</div><div class="site-data"><a href="/archives/"><div class="headline">文章</div><div class="length-num">74</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">10</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">4</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/xxxxxx"><i class="fab fa-github"></i><span>Follow Me</span></a></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%8F%82%E8%80%83%E9%93%BE%E6%8E%A5"><span class="toc-number">1.</span> <span class="toc-text">参考链接</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E6%9E%B6%E6%9E%84"><span class="toc-number">2.</span> <span class="toc-text">文件架构</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BC%A9%E5%86%99"><span class="toc-number">2.1.</span> <span class="toc-text">缩写</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A6%82%E8%A7%88"><span class="toc-number">2.2.</span> <span class="toc-text">概览</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ASW"><span class="toc-number">2.3.</span> <span class="toc-text">ASW</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#BSW"><span class="toc-number">2.4.</span> <span class="toc-text">BSW</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#BOOT"><span class="toc-number">2.5.</span> <span class="toc-text">BOOT</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Documents"><span class="toc-number">2.6.</span> <span class="toc-text">Documents</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#OS"><span class="toc-number">2.7.</span> <span class="toc-text">OS</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Output"><span class="toc-number">2.8.</span> <span class="toc-text">Output</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Project"><span class="toc-number">2.9.</span> <span class="toc-text">Project</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-10-ReadMe"><span class="toc-number">2.10.</span> <span class="toc-text">1.10 ReadMe</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%96%87%E4%BB%B6"><span class="toc-number">3.</span> <span class="toc-text">文件</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E5%90%8D%E5%91%BD%E5%90%8D%E8%A7%84%E5%88%99"><span class="toc-number">3.1.</span> <span class="toc-text">文件名命名规则</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%91%BD%E5%90%8D%E6%A0%87%E5%87%86"><span class="toc-number">3.2.</span> <span class="toc-text">命名标准</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%80%9A%E4%BF%A1%E6%A0%88%E6%A8%A1%E5%9D%97%EF%BC%88Com%EF%BC%89"><span class="toc-number">3.2.1.</span> <span class="toc-text">通信栈模块（Com）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AF%8A%E6%96%AD%E9%80%9A%E4%BF%A1%E7%AE%A1%E7%90%86%E6%A8%A1%E5%9D%97%EF%BC%88Dcm%EF%BC%89"><span class="toc-number">3.2.2.</span> <span class="toc-text">诊断通信管理模块（Dcm）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%BA%E7%A1%80%E6%9D%BF%E7%BA%A7%E6%94%AF%E6%8C%81%E5%8C%85%EF%BC%88BSP%EF%BC%89"><span class="toc-number">3.2.3.</span> <span class="toc-text">基础板级支持包（BSP）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ECU%E7%8A%B6%E6%80%81%E7%AE%A1%E7%90%86%E6%A8%A1%E5%9D%97%EF%BC%88EcuM%EF%BC%89"><span class="toc-number">3.2.4.</span> <span class="toc-text">ECU状态管理模块（EcuM）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%A8%A1%E5%9D%97%EF%BC%88Os%EF%BC%89"><span class="toc-number">3.2.5.</span> <span class="toc-text">操作系统模块（Os）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%BA%E7%A1%80%E8%BD%AF%E4%BB%B6%E7%AE%A1%E7%90%86%E6%A8%A1%E5%9D%97%EF%BC%88BswM%EF%BC%89"><span class="toc-number">3.2.6.</span> <span class="toc-text">基础软件管理模块（BswM）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%9D%9E%E6%98%93%E5%A4%B1%E6%80%A7%E5%AD%98%E5%82%A8%E7%AE%A1%E7%90%86%E6%A8%A1%E5%9D%97%EF%BC%88Nvm%EF%BC%89"><span class="toc-number">3.2.7.</span> <span class="toc-text">非易失性存储管理模块（Nvm）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#AUTOSAR-XML-%E6%96%87%E4%BB%B6"><span class="toc-number">3.2.8.</span> <span class="toc-text">AUTOSAR XML 文件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#AUTOSAR%E6%96%87%E4%BB%B6%E5%90%8D%E5%91%BD%E5%90%8D%E6%80%BB%E7%BB%93"><span class="toc-number">3.2.9.</span> <span class="toc-text">AUTOSAR文件名命名总结</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A4%B4%E6%96%87%E4%BB%B6"><span class="toc-number">3.3.</span> <span class="toc-text">头文件</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%8E%92%E7%89%88"><span class="toc-number">4.</span> <span class="toc-text">排版</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BC%A9%E8%BF%9B%E4%B8%8E%E5%AF%B9%E9%BD%90"><span class="toc-number">4.1.</span> <span class="toc-text">缩进与对齐</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BC%A9%E8%BF%9B"><span class="toc-number">4.1.1.</span> <span class="toc-text">缩进</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AF%B9%E9%BD%90"><span class="toc-number">4.1.2.</span> <span class="toc-text">对齐</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%A1%8C%E9%95%BF%E5%BA%A6%E4%B8%8E%E6%8D%A2%E8%A1%8C"><span class="toc-number">4.2.</span> <span class="toc-text">行长度与换行</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A1%8C%E9%95%BF%E5%BA%A6"><span class="toc-number">4.2.1.</span> <span class="toc-text">行长度</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8D%A2%E8%A1%8C%E8%A7%84%E5%88%99"><span class="toc-number">4.2.2.</span> <span class="toc-text">换行规则</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%A9%BA%E6%A0%BC%E4%B8%8E%E7%A9%BA%E8%A1%8C"><span class="toc-number">4.3.</span> <span class="toc-text">空格与空行</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%A9%BA%E6%A0%BC"><span class="toc-number">4.3.1.</span> <span class="toc-text">空格</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%A9%BA%E8%A1%8C"><span class="toc-number">4.3.2.</span> <span class="toc-text">空行</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8B%AC%E5%8F%B7%E4%B8%8E%E5%88%86%E5%8F%B7"><span class="toc-number">4.4.</span> <span class="toc-text">括号与分号</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8B%AC%E5%8F%B7"><span class="toc-number">4.4.1.</span> <span class="toc-text">括号</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%86%E5%8F%B7"><span class="toc-number">4.4.2.</span> <span class="toc-text">分号</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B3%A8%E9%87%8A%E6%A0%BC%E5%BC%8F"><span class="toc-number">4.5.</span> <span class="toc-text">注释格式</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8D%95%E8%A1%8C%E6%B3%A8%E9%87%8A"><span class="toc-number">4.5.1.</span> <span class="toc-text">单行注释</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%9A%E8%A1%8C%E6%B3%A8%E9%87%8A"><span class="toc-number">4.5.2.</span> <span class="toc-text">多行注释</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E6%8E%92%E7%89%88"><span class="toc-number">4.6.</span> <span class="toc-text">函数排版</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E5%A3%B0%E6%98%8E"><span class="toc-number">4.6.1.</span> <span class="toc-text">函数声明</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E5%AE%9A%E4%B9%89"><span class="toc-number">4.6.2.</span> <span class="toc-text">函数定义</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%93%E6%9E%84%E4%BD%93%E4%B8%8E%E6%9E%9A%E4%B8%BE%E6%8E%92%E7%89%88"><span class="toc-number">4.7.</span> <span class="toc-text">结构体与枚举排版</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%93%E6%9E%84%E4%BD%93"><span class="toc-number">4.7.1.</span> <span class="toc-text">结构体</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9E%9A%E4%B8%BE"><span class="toc-number">4.7.2.</span> <span class="toc-text">枚举</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%B3%A8%E9%87%8A"><span class="toc-number">5.</span> <span class="toc-text">注释</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E6%B3%A8%E9%87%8A%E8%A7%84%E8%8C%83"><span class="toc-number">5.1.</span> <span class="toc-text">文件注释规范</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E5%A4%B4%E6%B3%A8%E9%87%8A"><span class="toc-number">5.1.1.</span> <span class="toc-text">文件头注释</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B3%A8%E9%87%8A%E6%A0%BC%E5%BC%8F-1"><span class="toc-number">5.1.2.</span> <span class="toc-text">注释格式</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E5%A4%B4%E6%B3%A8%E9%87%8A%E7%A4%BA%E4%BE%8B"><span class="toc-number">5.2.</span> <span class="toc-text">文件头注释示例</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#c-%E6%96%87%E4%BB%B6%E6%B3%A8%E9%87%8A"><span class="toc-number">5.2.1.</span> <span class="toc-text">.c 文件注释</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#h-%E6%96%87%E4%BB%B6%E6%B3%A8%E9%87%8A"><span class="toc-number">5.2.2.</span> <span class="toc-text">.h 文件注释</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E5%86%85%E5%AE%B9%E6%B3%A8%E9%87%8A"><span class="toc-number">5.3.</span> <span class="toc-text">文件内容注释</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A8%A1%E5%9D%97%E6%B3%A8%E9%87%8A"><span class="toc-number">5.3.1.</span> <span class="toc-text">模块注释</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E6%B3%A8%E9%87%8A"><span class="toc-number">5.3.2.</span> <span class="toc-text">函数注释</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%93%E6%9E%84%E4%BD%93%E5%92%8C%E6%9E%9A%E4%B8%BE%E6%B3%A8%E9%87%8A"><span class="toc-number">5.3.3.</span> <span class="toc-text">结构体和枚举注释</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%B6%E4%BB%96%E6%B3%A8%E9%87%8A"><span class="toc-number">5.4.</span> <span class="toc-text">其他注释</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81%E5%9D%97%E6%B3%A8%E9%87%8A"><span class="toc-number">5.4.1.</span> <span class="toc-text">代码块注释</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BF%AE%E6%94%B9%E8%AE%B0%E5%BD%95"><span class="toc-number">5.4.2.</span> <span class="toc-text">修改记录</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BD%AF%E4%BB%B6%E9%85%8D%E7%BD%AE"><span class="toc-number">5.5.</span> <span class="toc-text">软件配置</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Vscode"><span class="toc-number">5.5.1.</span> <span class="toc-text">Vscode</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%8F%98%E9%87%8F"><span class="toc-number">6.</span> <span class="toc-text">变量</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B8%B8%E8%A7%81%E5%8F%98%E9%87%8F%E7%B1%BB%E5%9E%8B%E5%89%8D%E7%BC%80%E7%BC%A9%E5%86%99"><span class="toc-number">6.1.</span> <span class="toc-text">常见变量类型前缀缩写</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A8%A1%E5%9D%97%E7%9B%B8%E5%85%B3%E5%8F%98%E9%87%8F%E5%89%8D%E7%BC%80%E7%BC%A9%E5%86%99"><span class="toc-number">6.2.</span> <span class="toc-text">模块相关变量前缀缩写</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="toc-number">6.2.1.</span> <span class="toc-text">基本数据类型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B8%83%E5%B0%94%E7%B1%BB%E5%9E%8B"><span class="toc-number">6.2.2.</span> <span class="toc-text">布尔类型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%8A%B6%E6%80%81%E7%B1%BB%E5%9E%8B"><span class="toc-number">6.2.3.</span> <span class="toc-text">状态类型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%8D%E5%90%88%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="toc-number">6.2.4.</span> <span class="toc-text">复合数据类型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8C%87%E9%92%88%E7%B1%BB%E5%9E%8B"><span class="toc-number">6.2.5.</span> <span class="toc-text">指针类型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E7%BB%84%E7%B1%BB%E5%9E%8B"><span class="toc-number">6.2.6.</span> <span class="toc-text">数组类型</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%85%8D%E7%BD%AE%E5%A4%B4%E6%96%87%E4%BB%B6"><span class="toc-number">6.3.</span> <span class="toc-text">配置头文件</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%87%BD%E6%95%B0"><span class="toc-number">7.</span> <span class="toc-text">函数</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%91%BD%E5%90%8D%E8%A7%84%E5%88%99"><span class="toc-number">7.1.</span> <span class="toc-text">命名规则</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#BSP%E5%B1%82%E5%87%BD%E6%95%B0%E5%90%8D%E8%AF%A6%E7%BB%86%E8%AE%BE%E8%AE%A1"><span class="toc-number">7.2.</span> <span class="toc-text">BSP层函数名详细设计</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#GPIO%E6%A8%A1%E5%9D%97"><span class="toc-number">7.2.1.</span> <span class="toc-text">GPIO模块</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ADC%E6%A8%A1%E5%9D%97"><span class="toc-number">7.2.2.</span> <span class="toc-text">ADC模块</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#PWM%E6%A8%A1%E5%9D%97"><span class="toc-number">7.2.3.</span> <span class="toc-text">PWM模块</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#CAN%E6%A8%A1%E5%9D%97"><span class="toc-number">7.2.4.</span> <span class="toc-text">CAN模块</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Timer%E6%A8%A1%E5%9D%97"><span class="toc-number">7.2.5.</span> <span class="toc-text">Timer模块</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Watchdog%E6%A8%A1%E5%9D%97"><span class="toc-number">7.2.6.</span> <span class="toc-text">Watchdog模块</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%EF%BC%88OS%EF%BC%89%E6%A8%A1%E5%9D%97"><span class="toc-number">7.2.7.</span> <span class="toc-text">操作系统（OS）模块</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%80%9A%E4%BF%A1%E6%A0%88%EF%BC%88COM%EF%BC%89%E6%A8%A1%E5%9D%97"><span class="toc-number">7.2.8.</span> <span class="toc-text">通信栈（COM）模块</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AF%8A%E6%96%AD%E9%80%9A%E4%BF%A1%E7%AE%A1%E7%90%86%EF%BC%88DCM%EF%BC%89%E6%A8%A1%E5%9D%97"><span class="toc-number">7.2.9.</span> <span class="toc-text">诊断通信管理（DCM）模块</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ECU%E7%8A%B6%E6%80%81%E7%AE%A1%E7%90%86%EF%BC%88EcuM%EF%BC%89%E6%A8%A1%E5%9D%97"><span class="toc-number">7.2.10.</span> <span class="toc-text">ECU状态管理（EcuM）模块</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%B0%83%E5%BA%A6%E7%AE%A1%E7%90%86%EF%BC%88SchM%EF%BC%89%E6%A8%A1%E5%9D%97"><span class="toc-number">7.2.11.</span> <span class="toc-text">调度管理（SchM）模块</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%98%E5%82%A8%E6%A0%88%EF%BC%88NVM%EF%BC%89%E6%A8%A1%E5%9D%97"><span class="toc-number">7.2.12.</span> <span class="toc-text">存储栈（NVM）模块</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%9C%8B%E9%97%A8%E7%8B%97%E7%AE%A1%E7%90%86%EF%BC%88Wdg%EF%BC%89%E6%A8%A1%E5%9D%97"><span class="toc-number">7.2.13.</span> <span class="toc-text">看门狗管理（Wdg）模块</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9"><span class="toc-number">7.2.14.</span> <span class="toc-text">注意事项</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-3-%E5%87%BD%E6%95%B0%E8%AE%BE%E8%AE%A1"><span class="toc-number">7.3.</span> <span class="toc-text">6.3 函数设计</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#6-3-1-%E5%87%BD%E6%95%B0%E5%91%BD%E5%90%8D%E8%A7%84%E8%8C%83"><span class="toc-number">7.3.1.</span> <span class="toc-text">6.3.1. 函数命名规范</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%91%BD%E5%90%8D%E8%A7%84%E5%88%99-1"><span class="toc-number">7.3.1.1.</span> <span class="toc-text">命名规则</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-3-2-%E5%87%BD%E6%95%B0%E9%95%BF%E5%BA%A6"><span class="toc-number">7.3.2.</span> <span class="toc-text">6.3.2. 函数长度</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E9%95%BF%E5%BA%A6%E9%99%90%E5%88%B6"><span class="toc-number">7.3.2.1.</span> <span class="toc-text">函数长度限制</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-3-3-%E5%87%BD%E6%95%B0%E5%8F%82%E6%95%B0"><span class="toc-number">7.3.3.</span> <span class="toc-text">6.3.3. 函数参数</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8F%82%E6%95%B0%E6%95%B0%E9%87%8F"><span class="toc-number">7.3.3.1.</span> <span class="toc-text">参数数量</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E7%B1%BB%E5%9E%8B"><span class="toc-number">7.3.3.2.</span> <span class="toc-text">数类型</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8F%82%E6%95%B0%E9%A1%BA%E5%BA%8F"><span class="toc-number">7.3.3.3.</span> <span class="toc-text">参数顺序</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-3-4-%E8%BF%94%E5%9B%9E%E5%80%BC"><span class="toc-number">7.3.4.</span> <span class="toc-text">6.3.4. 返回值</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BF%94%E5%9B%9E%E5%80%BC%E7%B1%BB%E5%9E%8B"><span class="toc-number">7.3.4.1.</span> <span class="toc-text">返回值类型</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BF%94%E5%9B%9E%E5%80%BC%E6%A3%80%E6%9F%A5"><span class="toc-number">7.3.4.2.</span> <span class="toc-text">返回值检查</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-4-%E5%87%BD%E6%95%B0%E5%86%85%E9%83%A8%E8%AE%BE%E8%AE%A1"><span class="toc-number">7.3.5.</span> <span class="toc-text">6.4 函数内部设计</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B1%80%E9%83%A8%E5%8F%98%E9%87%8F"><span class="toc-number">7.3.5.1.</span> <span class="toc-text">局部变量</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8E%A7%E5%88%B6%E7%BB%93%E6%9E%84"><span class="toc-number">7.3.5.2.</span> <span class="toc-text">控制结构</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%94%99%E8%AF%AF%E5%A4%84%E7%90%86"><span class="toc-number">7.3.5.3.</span> <span class="toc-text">错误处理</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-5-%E5%87%BD%E6%95%B0%E5%A4%8D%E7%94%A8%E4%B8%8E%E6%A8%A1%E5%9D%97%E5%8C%96"><span class="toc-number">7.3.6.</span> <span class="toc-text">6.5 函数复用与模块化</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A4%8D%E7%94%A8%E6%80%A7"><span class="toc-number">7.3.6.1.</span> <span class="toc-text">复用性</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A8%A1%E5%9D%97%E5%8C%96"><span class="toc-number">7.3.6.2.</span> <span class="toc-text">模块化</span></a></li></ol></li></ol></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2025/09/13/%E8%BD%AF%E4%BB%B6%E5%8F%8A%E5%B7%A5%E5%85%B7%E7%9A%84%E4%BD%BF%E7%94%A8/Qt/" title="Qt"><img src="/img/RandomCoverImage/random_15.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Qt"/></a><div class="content"><a class="title" href="/2025/09/13/%E8%BD%AF%E4%BB%B6%E5%8F%8A%E5%B7%A5%E5%85%B7%E7%9A%84%E4%BD%BF%E7%94%A8/Qt/" title="Qt">Qt</a><time datetime="2025-09-13T07:29:37.969Z" title="发表于 2025-09-13 07:29:37">2025-09-13</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/09/13/%E8%BD%AF%E4%BB%B6%E5%8F%8A%E5%B7%A5%E5%85%B7%E7%9A%84%E4%BD%BF%E7%94%A8/Tessy/" title="Tessy"><img src="/img/RandomCoverImage/random_4.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Tessy"/></a><div class="content"><a class="title" href="/2025/09/13/%E8%BD%AF%E4%BB%B6%E5%8F%8A%E5%B7%A5%E5%85%B7%E7%9A%84%E4%BD%BF%E7%94%A8/Tessy/" title="Tessy">Tessy</a><time datetime="2025-09-13T07:29:37.969Z" title="发表于 2025-09-13 07:29:37">2025-09-13</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/09/13/%E8%BD%AF%E4%BB%B6%E5%8F%8A%E5%B7%A5%E5%85%B7%E7%9A%84%E4%BD%BF%E7%94%A8/Vscode/" title="Vscode"><img src="/img/RandomCoverImage/random_11.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Vscode"/></a><div class="content"><a class="title" href="/2025/09/13/%E8%BD%AF%E4%BB%B6%E5%8F%8A%E5%B7%A5%E5%85%B7%E7%9A%84%E4%BD%BF%E7%94%A8/Vscode/" title="Vscode">Vscode</a><time datetime="2025-09-13T07:29:37.969Z" title="发表于 2025-09-13 07:29:37">2025-09-13</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/09/13/%E8%BD%AF%E4%BB%B6%E5%8F%8A%E5%B7%A5%E5%85%B7%E7%9A%84%E4%BD%BF%E7%94%A8/Vim/" title="Vim"><img src="/img/RandomCoverImage/random_16.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Vim"/></a><div class="content"><a class="title" href="/2025/09/13/%E8%BD%AF%E4%BB%B6%E5%8F%8A%E5%B7%A5%E5%85%B7%E7%9A%84%E4%BD%BF%E7%94%A8/Vim/" title="Vim">Vim</a><time datetime="2025-09-13T07:29:37.969Z" title="发表于 2025-09-13 07:29:37">2025-09-13</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/09/13/%E8%BD%AF%E4%BB%B6%E5%8F%8A%E5%B7%A5%E5%85%B7%E7%9A%84%E4%BD%BF%E7%94%A8/WireShark/" title="WireShark"><img src="/img/RandomCoverImage/random_14.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="WireShark"/></a><div class="content"><a class="title" href="/2025/09/13/%E8%BD%AF%E4%BB%B6%E5%8F%8A%E5%B7%A5%E5%85%B7%E7%9A%84%E4%BD%BF%E7%94%A8/WireShark/" title="WireShark">WireShark</a><time datetime="2025-09-13T07:29:37.969Z" title="发表于 2025-09-13 07:29:37">2025-09-13</time></div></div></div></div></div></div></main><footer id="footer"><div class="footer-other"><div class="footer-copyright"><span class="copyright">&copy;&nbsp;2024 - 2025 By ryf</span><span class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo 7.3.0</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly 5.4.3</a></span></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="日间和夜间模式切换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><div class="js-pjax"><script>(() => {
  const runMermaid = ele => {
    window.loadMermaid = true
    const theme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'dark' : 'default'

    ele.forEach((item, index) => {
      const mermaidSrc = item.firstElementChild
      const mermaidThemeConfig = `%%{init:{ 'theme':'${theme}'}}%%\n`
      const mermaidID = `mermaid-${index}`
      const mermaidDefinition = mermaidThemeConfig + mermaidSrc.textContent

      const renderFn = mermaid.render(mermaidID, mermaidDefinition)
      const renderMermaid = svg => {
        mermaidSrc.insertAdjacentHTML('afterend', svg)
      }

      // mermaid v9 and v10 compatibility
      typeof renderFn === 'string' ? renderMermaid(renderFn) : renderFn.then(({ svg }) => renderMermaid(svg))
    })
  }

  const codeToMermaid = () => {
    const codeMermaidEle = document.querySelectorAll('pre > code.mermaid')
    if (codeMermaidEle.length === 0) return

    codeMermaidEle.forEach(ele => {
      const preEle = document.createElement('pre')
      preEle.className = 'mermaid-src'
      preEle.hidden = true
      preEle.textContent = ele.textContent
      const newEle = document.createElement('div')
      newEle.className = 'mermaid-wrap'
      newEle.appendChild(preEle)
      ele.parentNode.replaceWith(newEle)
    })
  }

  const loadMermaid = () => {
    if (true) codeToMermaid()
    const $mermaid = document.querySelectorAll('#article-container .mermaid-wrap')
    if ($mermaid.length === 0) return

    const runMermaidFn = () => runMermaid($mermaid)
    btf.addGlobalFn('themeChange', runMermaidFn, 'mermaid')
    window.loadMermaid ? runMermaidFn() : btf.getScript('https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js').then(runMermaidFn)
  }

  btf.addGlobalFn('encrypt', loadMermaid, 'mermaid')
  window.pjax ? loadMermaid() : document.addEventListener('DOMContentLoaded', loadMermaid)
})()</script></div><script async src="//at.alicdn.com/t/c/font_5020701_ump6lop7tzm.js"></script><canvas class="fireworks" mobile="false"></canvas><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/fireworks.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/activate-power-mode.min.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = true;
POWERMODE.mobile = false;
document.body.addEventListener('input', POWERMODE);
</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="text-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div id="local-search-results"></div><div id="local-search-stats-wrap"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js"></script></div></div><!-- hexo injector body_end start --> <script data-pjax>if(document.getElementById('recent-posts') && (location.pathname ==='/'|| '/' ==='all')){
    var parent = document.getElementById('recent-posts');
    var child = '<div class="recent-post-item" style="width:100%;height: auto"><div id="catalog_magnet"><div class="magnet_item"><a class="magnet_link" href="https://youshouldtrustme.github.io/categories/嵌入式/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">🍡 嵌入式 (24)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><div class="magnet_item"><a class="magnet_link" href="https://youshouldtrustme.github.io/categories/基础知识/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">🍼 基础知识 (13)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><div class="magnet_item"><a class="magnet_link" href="https://youshouldtrustme.github.io/categories/编程语言/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">🍉 编程语言 (17)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><div class="magnet_item"><a class="magnet_link" href="https://youshouldtrustme.github.io/categories/软件及工具/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">🍟 软件及工具的使用 (18)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><a class="magnet_link_more"  href="https://youshouldtrustme.github.io/categories" style="flex:1;text-align: center;margin-bottom: 10px;">查看更多...</a></div></div>';
    console.log('已挂载magnet')
    parent.insertAdjacentHTML("afterbegin",child)}
     </script><style>#catalog_magnet{flex-wrap: wrap;display: flex;width:100%;justify-content:space-between;padding: 10px 10px 0 10px;align-content: flex-start;}.magnet_item{flex-basis: calc(50% - 5px);background: #e9e9e9;margin-bottom: 10px;border-radius: 8px;transition: all 0.2s ease-in-out;}.magnet_item:hover{background: var(--text-bg-hover)}.magnet_link_more{color:#555}.magnet_link{color:black}.magnet_link:hover{color:white}@media screen and (max-width: 600px) {.magnet_item {flex-basis: 100%;}}.magnet_link_context{display:flex;padding: 10px;font-size:16px;transition: all 0.2s ease-in-out;}.magnet_link_context:hover{padding: 10px 20px;}</style>
    <style></style><script data-pjax>
  function butterfly_swiper_injector_config(){
    var parent_div_git = document.getElementById('recent-posts');
    var item_html = '<div class="recent-post-item" style="height: auto;width: 100%"><div class="blog-slider swiper-container-fade swiper-container-horizontal" id="swiper_container"><div class="blog-slider__wrp swiper-wrapper" style="transition-duration: 0ms;"><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2025/09/13/嵌入式/通信协议/CAN/" alt=""><img width="48" height="48" src="https://gitlab.com/18355291538/picture/-/raw/main/pictures/2025/01/15_9_50_55_202501150950487.png" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2025-09-13</span><a class="blog-slider__title" href="2025/09/13/嵌入式/通信协议/CAN/" alt="">CAN</a><div class="blog-slider__text">再怎么看我也不知道怎么描述它的啦！</div><a class="blog-slider__button" href="2025/09/13/嵌入式/通信协议/CAN/" alt="">详情   </a></div></div></div><div class="blog-slider__pagination swiper-pagination-clickable swiper-pagination-bullets"></div></div></div>';
    console.log('已挂载butterfly_swiper')
    parent_div_git.insertAdjacentHTML("afterbegin",item_html)
    }
  var elist = 'undefined'.split(',');
  var cpage = location.pathname;
  var epage = '/';
  var flag = 0;

  for (var i=0;i<elist.length;i++){
    if (cpage.includes(elist[i])){
      flag++;
    }
  }

  if ((epage ==='all')&&(flag == 0)){
    butterfly_swiper_injector_config();
  }
  else if (epage === cpage){
    butterfly_swiper_injector_config();
  }
  </script><script defer src="https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper.min.js"></script><script defer data-pjax src="https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper_init.js"></script><!-- hexo injector body_end end --></body></html>